# ë‚ ì”¨ ì—ë„ˆì§€ ì•± ê°œë°œ TODO ë¦¬ìŠ¤íŠ¸

> ì´ˆë“±í•™ìƒì„ ìœ„í•œ ë‚ ì”¨ ê¸°ë°˜ ê²½ì œ êµìœ¡ ì•± ê°œë°œ ìƒì„¸ ê°€ì´ë“œ  
> ë¹„ê°œë°œìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ëª¨ë“  ë‹¨ê³„ë¥¼ ìì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**ëª©í‘œ**: ì´ˆë“±í•™êµ ê³ í•™ë…„(10-12ì„¸)ì´ ë‚ ì”¨ë¥¼ ì‚¬ê³ íŒ”ë©´ì„œ ê²½ì œë¥¼ ë°°ìš°ëŠ” êµìœ¡ ì•±  
**í•µì‹¬ ê¸°ëŠ¥**: 4ê°€ì§€ ë‚ ì”¨(íƒœì–‘â˜€ï¸, ë°”ëŒğŸ’¨, ìˆ˜ë¶„ğŸ’§, ì˜¨ë„ğŸŒ¡ï¸)ë¥¼ 3ë¶„ë§ˆë‹¤ ë³€í•˜ëŠ” ê°€ê²©ìœ¼ë¡œ ê±°ë˜  
**ì˜ˆìƒ ê°œë°œ ê¸°ê°„**: 14-18ì‹œê°„ (1-2ì¼)  
**ë°°í¬ í”Œë«í¼**: Vercel (ë¬´ë£Œ)

**ê¸°ìˆ  ìŠ¤íƒ (2026ë…„ ìµœì‹  ë²„ì „)**:
- Next.js 15.5 (React í”„ë ˆì„ì›Œí¬)
- React 19.2 (UI ë¼ì´ë¸ŒëŸ¬ë¦¬)
- TypeScript 5.7 (íƒ€ì… ì•ˆì •ì„±)
- Tailwind CSS v4.1 (ìŠ¤íƒ€ì¼ë§)
- Motion v12 (ì• ë‹ˆë©”ì´ì…˜)
- Recharts 3.6 (ì°¨íŠ¸)

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ ì•ˆë‚´

ê°œë°œ ì¤‘ í•­ìƒ ì°¸ê³ í•´ì•¼ í•  ë¬¸ì„œë“¤:

1. **`docs/architecture.md`** (1871ì¤„)
   - ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸ ì„¤ëª… (50-101ì¤„)
   - í”„ë¡œì íŠ¸ êµ¬ì¡° (103-184ì¤„)
   - ë°ì´í„° ëª¨ë¸ ì •ì˜ (186-302ì¤„)
   - ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ì•Œê³ ë¦¬ì¦˜ (308-478ì¤„)
   - ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ (864-1252ì¤„)

2. **`docs/design-guide.md`** (1717ì¤„)
   - ìƒ‰ìƒ ì‹œìŠ¤í…œ (84-297ì¤„)
   - íƒ€ì´í¬ê·¸ë˜í”¼ (313-563ì¤„)
   - ì¼ëŸ¬ìŠ¤íŠ¸ë ˆì´ì…˜ (565-888ì¤„)
   - ì—¬ë°±ê³¼ ë ˆì´ì•„ì›ƒ (890-1108ì¤„)
   - ì• ë‹ˆë©”ì´ì…˜ (1110-1553ì¤„)

3. **`docs/plan.md`** (400ì¤„)
   - ì„œë¹„ìŠ¤ ê¸°íš (26-45ì¤„)
   - ë‚ ì”¨ ê±°ë˜ ì‹œìŠ¤í…œ (48-180ì¤„)
   - ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ (286-375ì¤„)

4. **`docs/wireframes.md`** (1183ì¤„)
   - ëª¨ë“  í™”ë©´ ì™€ì´ì–´í”„ë ˆì„ (79-949ì¤„)
   - ì¸í„°ë™ì…˜ í”Œë¡œìš° (389-404ì¤„)
   - ì»´í¬ë„ŒíŠ¸ ìƒì„¸ (951-1083ì¤„)

5. **`.cursorrules`** (673ì¤„)
   - ì½”ë”© ì»¨ë²¤ì…˜ (53-101ì¤„)
   - ë””ìì¸ ì‹œìŠ¤í…œ ê·œì¹™ (103-248ì¤„)
   - ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ (478-537ì¤„)

---

## ğŸ¯ Phase 1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • (ì˜ˆìƒ ì‹œê°„: 1-1.5ì‹œê°„)

### âœ… 1.1 ê°œë°œ í™˜ê²½ ì¤€ë¹„

**ëª©í‘œ**: ì»´í“¨í„°ì— í•„ìš”í•œ í”„ë¡œê·¸ë¨ ì„¤ì¹˜í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 50-79ì¤„ (ê¸°ìˆ  ìŠ¤íƒ ì •ì˜)
- `docs/architecture.md` 1687-1700ì¤„ (ê°œë°œ í™˜ê²½ ì„¤ì •)

**ì‘ì—… ë‚´ìš©**:

1. **Node.js ì„¤ì¹˜** (JavaScript ì‹¤í–‰ í™˜ê²½)
   - ì›¹ì‚¬ì´íŠ¸: https://nodejs.org
   - ë²„ì „: LTS (Long Term Support) ìµœì‹  ë²„ì „ ë‹¤ìš´ë¡œë“œ
   - ì„¤ì¹˜ í™•ì¸ ëª…ë ¹ì–´: í„°ë¯¸ë„ì—ì„œ `node -v` ì…ë ¥ â†’ ë²„ì „ ë²ˆí˜¸ í‘œì‹œë˜ë©´ ì„±ê³µ
   - ì™œ í•„ìš”í•œê°€?: Next.jsì™€ Reactë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ê¸°ë³¸ í™˜ê²½

2. **ì½”ë“œ ì—ë””í„° ì„¤ì¹˜** (ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” í”„ë¡œê·¸ë¨)
   - ì¶”ì²œ: Visual Studio Code (VS Code)
   - ì›¹ì‚¬ì´íŠ¸: https://code.visualstudio.com
   - ì„¤ì¹˜ í›„ ì¶”ì²œ í™•ì¥ í”„ë¡œê·¸ë¨:
     - ESLint (ì½”ë“œ ì˜¤ë¥˜ ì°¾ê¸°)
     - Prettier (ì½”ë“œ ì •ë¦¬)
     - Tailwind CSS IntelliSense (ìŠ¤íƒ€ì¼ ìë™ì™„ì„±)
     - TypeScript Vue Plugin (íƒ€ì… ì§€ì›)

3. **Git ì„¤ì¹˜** (ì½”ë“œ ë²„ì „ ê´€ë¦¬)
   - ì›¹ì‚¬ì´íŠ¸: https://git-scm.com
   - ì„¤ì¹˜ í™•ì¸: `git --version`
   - ì™œ í•„ìš”í•œê°€?: ì½”ë“œ ë³€ê²½ ì´ë ¥ ê´€ë¦¬ ë° Vercel ë°°í¬ì— í•„ìˆ˜

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Node.js ì„¤ì¹˜ ì™„ë£Œ (`node -v` í™•ì¸)
- [ ] npm ì„¤ì¹˜ í™•ì¸ (`npm -v` í™•ì¸, Node.jsì™€ í•¨ê»˜ ì„¤ì¹˜ë¨)
- [ ] VS Code ì„¤ì¹˜ ë° í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì¹˜
- [ ] Git ì„¤ì¹˜ ì™„ë£Œ (`git --version` í™•ì¸)

---

### âœ… 1.2 Next.js í”„ë¡œì íŠ¸ ìƒì„±

**ëª©í‘œ**: Next.js 15.5ë¡œ ìƒˆ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1692-1700ì¤„
- ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼: Next.js 15.5ëŠ” Turbopack ë² íƒ€ ì§€ì›

**ì‘ì—… ë‚´ìš©**:

1. **í„°ë¯¸ë„ ì—´ê¸°**
   - VS Codeì—ì„œ: ìƒë‹¨ ë©”ë‰´ â†’ Terminal â†’ New Terminal
   - ë˜ëŠ” ë‹¨ì¶•í‚¤: Ctrl + ` (ë°±í‹±)

2. **í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™**
   ```bash
   cd c:\Users\PC\Desktop\project_v2
   ```

3. **Next.js í”„ë¡œì íŠ¸ ìƒì„± ëª…ë ¹ì–´ ì‹¤í–‰**
   ```bash
   npx create-next-app@15.5 . --typescript --tailwind --app
   ```
   
   **ëª…ë ¹ì–´ ì„¤ëª…**:
   - `npx`: npm íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šê³  ì‹¤í–‰
   - `create-next-app@15.5`: Next.js 15.5 ë²„ì „ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„±
   - `.`: í˜„ì¬ í´ë”ì— ìƒì„± (project_v2)
   - `--typescript`: TypeScript ì‚¬ìš© ì„¤ì •
   - `--tailwind`: Tailwind CSS ìë™ ì„¤ì •
   - `--app`: App Router ì‚¬ìš© (ìµœì‹  ë°©ì‹)

4. **ì„¤ì¹˜ ì¤‘ ì§ˆë¬¸ì— ë‹µí•˜ê¸°**
   - "Would you like to use ESLint?" â†’ **Yes** (ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬)
   - "Would you like to use Turbo?" â†’ **Yes** (ë¹ ë¥¸ ê°œë°œ ì„œë²„)
   - "Would you like to customize import alias?" â†’ **No** (ê¸°ë³¸ ì„¤ì • ì‚¬ìš©)

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 5-10ë¶„ (ì¸í„°ë„· ì†ë„ì— ë”°ë¼ ë‹¤ë¦„)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ
- [ ] `src/app` í´ë” ìƒì„± í™•ì¸
- [ ] `package.json` íŒŒì¼ ì¡´ì¬ í™•ì¸
- [ ] `next.config.js` íŒŒì¼ ì¡´ì¬ í™•ì¸

---

### âœ… 1.3 í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

**ëª©í‘œ**: í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 61-68ì¤„ (ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬)
- `docs/architecture.md` 1797-1819ì¤„ (íŒ¨í‚¤ì§€ ë²„ì „)
- ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼: Motion v12, Tailwind v4, React 19 ì„¤ì • ë°©ë²•

**ì‘ì—… ë‚´ìš©**:

1. **ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜** (Motion v12)
   ```bash
   npm install motion
   ```
   - **ìš©ë„**: ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ (ë²„íŠ¼ í´ë¦­, í™”ë©´ ì „í™˜ ë“±)
   - **ì°¸ê³ **: `docs/design-guide.md` 1110-1553ì¤„ (ì• ë‹ˆë©”ì´ì…˜ ê°€ì´ë“œ)

2. **ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜** (Recharts 3.6)
   ```bash
   npm install recharts
   ```
   - **ìš©ë„**: 24ì‹œê°„ ë‚ ì”¨ ê°€ê²© ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
   - **ì°¸ê³ **: `docs/architecture.md` 939-1009ì¤„ (WeatherChart ì»´í¬ë„ŒíŠ¸)

3. **ë‚ ì§œ ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜** (date-fns)
   ```bash
   npm install date-fns
   ```
   - **ìš©ë„**: ê±°ë˜ ì‹œê°„, ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ
   - **ì°¸ê³ **: `docs/plan.md` 139-160ì¤„ (ì‹œê°„ëŒ€ íŒ¨í„´)

4. **ê³ ìœ  ID ìƒì„± ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜** (uuid)
   ```bash
   npm install uuid
   npm install -D @types/uuid
   ```
   - **ìš©ë„**: ê±°ë˜ ë‚´ì—­ì— ê³ ìœ í•œ ID ë¶€ì—¬
   - **ì°¸ê³ **: `docs/architecture.md` 266-276ì¤„ (Transaction íƒ€ì…)

5. **Tailwind CSS v4 Vite í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜**
   ```bash
   npm install @tailwindcss/vite
   ```
   - **ìš©ë„**: Tailwind CSS v4 ìµœì í™”ëœ ë¹Œë“œ
   - **ì°¸ê³ **: ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼ (Tailwind v4 ìƒˆë¡œìš´ ì„¤ì¹˜ ë°©ë²•)

**ì„¤ì¹˜ í™•ì¸ ë°©ë²•**:
`package.json` íŒŒì¼ì„ ì—´ì–´ì„œ "dependencies" ì„¹ì…˜ì— ìœ„ íŒ¨í‚¤ì§€ë“¤ì´ ìˆëŠ”ì§€ í™•ì¸

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] motion ì„¤ì¹˜ ì™„ë£Œ
- [ ] recharts ì„¤ì¹˜ ì™„ë£Œ
- [ ] date-fns ì„¤ì¹˜ ì™„ë£Œ
- [ ] uuid ë° íƒ€ì… ì •ì˜ ì„¤ì¹˜ ì™„ë£Œ
- [ ] @tailwindcss/vite ì„¤ì¹˜ ì™„ë£Œ
- [ ] `package.json`ì—ì„œ ëª¨ë“  íŒ¨í‚¤ì§€ í™•ì¸

---

### âœ… 1.4 í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„±

**ëª©í‘œ**: ì½”ë“œë¥¼ ì •ë¦¬í•  í´ë”ë“¤ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 103-184ì¤„ (í”„ë¡œì íŠ¸ êµ¬ì¡°)
- `.cursorrules` 19-50ì¤„ (íŒŒì¼ ì¡°ì§)

**ì‘ì—… ë‚´ìš©**:

VS Codeì—ì„œ ë‹¤ìŒ í´ë”ë“¤ì„ ìƒì„±í•˜ì„¸ìš” (ìš°í´ë¦­ â†’ New Folder):

```
src/
â”œâ”€â”€ app/                    # ì´ë¯¸ ì¡´ì¬ (Next.jsê°€ ìë™ ìƒì„±)
â”œâ”€â”€ components/             # ìƒˆë¡œ ë§Œë“¤ê¸°
â”‚   â”œâ”€â”€ ui/                # ìƒˆë¡œ ë§Œë“¤ê¸°
â”‚   â”œâ”€â”€ weather/           # ìƒˆë¡œ ë§Œë“¤ê¸°
â”‚   â”œâ”€â”€ portfolio/         # ìƒˆë¡œ ë§Œë“¤ê¸°
â”‚   â”œâ”€â”€ trading/           # ìƒˆë¡œ ë§Œë“¤ê¸°
â”‚   â””â”€â”€ layout/            # ìƒˆë¡œ ë§Œë“¤ê¸°
â”œâ”€â”€ lib/                   # ìƒˆë¡œ ë§Œë“¤ê¸°
â”œâ”€â”€ hooks/                 # ìƒˆë¡œ ë§Œë“¤ê¸°
â”œâ”€â”€ types/                 # ìƒˆë¡œ ë§Œë“¤ê¸°
â””â”€â”€ constants/             # ìƒˆë¡œ ë§Œë“¤ê¸°
```

**ê° í´ë”ì˜ ì—­í• **:
- **`components/`**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì¡°ê°ë“¤ (ë²„íŠ¼, ì¹´ë“œ, ë‚ ì”¨ ì•„ì´ì½˜ ë“±)
  - `ui/`: ê¸°ë³¸ UI ìš”ì†Œ (Button, Card, Input, Slider, Modal)
  - `weather/`: ë‚ ì”¨ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ (ë‚ ì”¨ ì¹´ë“œ, ê·¸ë˜í”„, ì•„ì´ì½˜)
  - `portfolio/`: ë³´ê´€í•¨ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ (ìì‚° ìš”ì•½, ë³´ìœ  ì¹´ë“œ)
  - `trading/`: ê±°ë˜ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ (ê±°ë˜ ëª¨ë‹¬, ê±°ë˜ í¼)
  - `layout/`: ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (ë„¤ë¹„ê²Œì´ì…˜, ì›í˜• ë ˆì´ì•„ì›ƒ)
- **`lib/`**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜, ê°€ê²© ê³„ì‚°, ì €ì¥ì†Œ ê´€ë¦¬)
- **`hooks/`**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ React í›… (ë‚ ì”¨ ê°€ê²©, í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬)
- **`types/`**: TypeScript íƒ€ì… ì •ì˜ (ë‚ ì”¨ ë°ì´í„°, í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì¡°)
- **`constants/`**: ë³€í•˜ì§€ ì•ŠëŠ” ê°’ë“¤ (ê³„ì ˆ íŒ¨í„´, ìƒ‰ìƒ, ì„¤ì •)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components` ë° í•˜ìœ„ í´ë” 5ê°œ ìƒì„±
- [ ] `src/lib` í´ë” ìƒì„±
- [ ] `src/hooks` í´ë” ìƒì„±
- [ ] `src/types` í´ë” ìƒì„±
- [ ] `src/constants` í´ë” ìƒì„±
- [ ] í´ë” êµ¬ì¡°ê°€ `docs/architecture.md` 103-174ì¤„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

---

### âœ… 1.5 Tailwind CSS v4 ì„¤ì •

**ëª©í‘œ**: Tailwind CSSë¥¼ í”„ë¡œì íŠ¸ì— ë§ê²Œ ì„¤ì •í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 57-95ì¤„ (Tailwind CSS v4.1 ì„ íƒ ì´ìœ )
- `docs/design-guide.md` 84-297ì¤„ (ìƒ‰ìƒ ì‹œìŠ¤í…œ)
- ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼: Tailwind v4 CSS-first ì„¤ì • ë°©ë²•

**ì‘ì—… ë‚´ìš©**:

1. **`src/app/globals.css` íŒŒì¼ ìˆ˜ì •**
   
   ê¸°ì¡´ ë‚´ìš©ì„ ì‚­ì œí•˜ê³  ë‹¤ìŒìœ¼ë¡œ êµì²´:
   ```css
   @import "tailwindcss";

   /* ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì •ì˜ */
   @theme {
     /* ë‚ ì”¨ ìƒ‰ìƒ */
     --color-solar-main: #FFB547;
     --color-solar-bg: #FFF4E0;
     --color-wind-main: #7DD3FC;
     --color-wind-bg: #E8F7FF;
     --color-water-main: #60CFFF;
     --color-water-bg: #E0F7FF;
     --color-heat-main: #FF8A80;
     --color-heat-bg: #FFF0EE;

     /* ìƒíƒœ ìƒ‰ìƒ */
     --color-rising: #FF6B6B;
     --color-rising-bg: #FFE9E9;
     --color-falling: #74C0FC;
     --color-falling-bg: #E7F5FF;
     --color-stable: #ADB5BD;
     --color-stable-bg: #F1F3F5;

     /* ë°°ê²½ */
     --color-bg-main: #FFFCF7;
     --color-bg-card: #FFFFFF;
   }

   /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
   body {
     background-color: var(--color-bg-main);
     font-family: var(--font-pretendard), -apple-system, sans-serif;
   }
   ```

   **ì„¤ëª…**:
   - `@import "tailwindcss"`: Tailwind v4ì˜ ìƒˆë¡œìš´ ë°©ì‹
   - `@theme`: ì»¤ìŠ¤í…€ ìƒ‰ìƒì„ Tailwind ë³€ìˆ˜ë¡œ ì •ì˜
   - ìƒ‰ìƒ ì°¸ê³ : `docs/design-guide.md` 89-144ì¤„

2. **Pretendard í°íŠ¸ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì •**
   
   a) í°íŠ¸ ë‹¤ìš´ë¡œë“œ:
   - ì›¹ì‚¬ì´íŠ¸: https://github.com/orioncactus/pretendard
   - "Pretendard-Variable.woff2" íŒŒì¼ ë‹¤ìš´ë¡œë“œ
   
   b) í´ë” ìƒì„± ë° íŒŒì¼ ì´ë™:
   - `public/fonts/` í´ë” ìƒì„±
   - ë‹¤ìš´ë¡œë“œí•œ í°íŠ¸ íŒŒì¼ì„ ì´ í´ë”ì— ë³µì‚¬
   
   c) `src/app/layout.tsx` ìˆ˜ì • (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì§„í–‰)

**ì™œ Tailwind CSS v4ì¸ê°€?**:
- 5ë°° ë¹ ë¥¸ ë¹Œë“œ ì†ë„
- ê°„ë‹¨í•œ CSS-first ì„¤ì •
- ë” ì‘ì€ ë²ˆë“¤ í¬ê¸°
- ì°¸ê³ : `docs/architecture.md` 91-95ì¤„

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `globals.css` íŒŒì¼ ìˆ˜ì • ì™„ë£Œ
- [ ] ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì •ì˜ í™•ì¸
- [ ] Pretendard í°íŠ¸ ë‹¤ìš´ë¡œë“œ
- [ ] `public/fonts/Pretendard-Variable.woff2` íŒŒì¼ ì¡´ì¬ í™•ì¸

---

### âœ… 1.6 Git ì´ˆê¸°í™” ë° ì²« ì»¤ë°‹

**ëª©í‘œ**: ì½”ë“œ ë²„ì „ ê´€ë¦¬ ì‹œì‘í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1649-1665ì¤„ (ë°°í¬ ì ˆì°¨)

**ì‘ì—… ë‚´ìš©**:

1. **Git ì €ì¥ì†Œ ì´ˆê¸°í™”**
   ```bash
   git init
   ```
   - **ì„¤ëª…**: í˜„ì¬ í´ë”ë¥¼ Gitì´ ê´€ë¦¬í•˜ëŠ” í”„ë¡œì íŠ¸ë¡œ ë§Œë“¦

2. **`.gitignore` íŒŒì¼ í™•ì¸**
   - Next.jsê°€ ìë™ìœ¼ë¡œ ìƒì„±í–ˆëŠ”ì§€ í™•ì¸
   - ì—†ìœ¼ë©´ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš© ì¶”ê°€:
   ```
   node_modules/
   .next/
   .env*.local
   .vercel
   ```

3. **ì²« ì»¤ë°‹ ë§Œë“¤ê¸°**
   ```bash
   git add .
   git commit -m "Initial commit: Project setup with Next.js 15.5"
   ```
   
   **ëª…ë ¹ì–´ ì„¤ëª…**:
   - `git add .`: ëª¨ë“  íŒŒì¼ì„ ì»¤ë°‹ ëŒ€ìƒì— ì¶”ê°€
   - `git commit -m "..."`: ë³€ê²½ì‚¬í•­ì„ ì €ì¥ (ë©”ì‹œì§€ì™€ í•¨ê»˜)

4. **GitHub ì €ì¥ì†Œ ìƒì„± (ì„ íƒ ì‚¬í•­, ë‚˜ì¤‘ì— ë°°í¬ ì‹œ í•„ìš”)**
   - ì›¹ì‚¬ì´íŠ¸: https://github.com
   - "New repository" í´ë¦­
   - ì €ì¥ì†Œ ì´ë¦„: `weather-energy-app`
   - Public/Private ì„ íƒ
   - "Create repository" í´ë¦­
   - ìƒì„±ëœ ëª…ë ¹ì–´ë¥¼ ë³µì‚¬í•´ì„œ ì‹¤í–‰:
   ```bash
   git remote add origin https://github.com/[your-username]/weather-energy-app.git
   git branch -M main
   git push -u origin main
   ```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Git ì´ˆê¸°í™” ì™„ë£Œ
- [ ] `.gitignore` íŒŒì¼ ì¡´ì¬ ë° ë‚´ìš© í™•ì¸
- [ ] ì²« ì»¤ë°‹ ì™„ë£Œ
- [ ] (ì„ íƒ) GitHub ì €ì¥ì†Œ ìƒì„± ë° ì—°ê²°

---

## ğŸ¯ Phase 2: ë°ì´í„° êµ¬ì¡° ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ì˜ˆìƒ ì‹œê°„: 3-4ì‹œê°„)

### âœ… 2.1 TypeScript íƒ€ì… ì •ì˜

**ëª©í‘œ**: ì•±ì—ì„œ ì‚¬ìš©í•  ëª¨ë“  ë°ì´í„°ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 186-302ì¤„ (ë°ì´í„° ëª¨ë¸ ì „ì²´)
- `.cursorrules` 53-90ì¤„ (íƒ€ì… ì •ì˜ ê·œì¹™)

**ì‘ì—… ë‚´ìš©**:

**`src/types/index.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ë‚ ì”¨ ì—ë„ˆì§€ ì•± íƒ€ì… ì •ì˜
 * ì°¸ê³ : docs/architecture.md 186-302ì¤„
 */

// ===== ë‚ ì”¨ ê´€ë ¨ íƒ€ì… =====

/**
 * 4ê°€ì§€ ë‚ ì”¨ íƒ€ì…
 */
export type WeatherType = 'solar' | 'wind' | 'water' | 'heat';

/**
 * ë‚ ì”¨ ì¶”ì„¸ (ê°€ê²© ë³€í™” ë°©í–¥)
 */
export type WeatherTrend = 'rising' | 'falling' | 'stable';

/**
 * ê°€ê²© ì´ë ¥ (24ì‹œê°„ ê·¸ë˜í”„ìš©)
 */
export interface PriceHistory {
  timestamp: number;    // Unix timestamp (ë°€ë¦¬ì´ˆ)
  price: number;        // ê°€ê²© (ì—ë„ˆì§€)
}

/**
 * ë‚ ì”¨ ë°ì´í„° êµ¬ì¡°
 * í™”ë©´ì— í‘œì‹œë˜ëŠ” ëª¨ë“  ë‚ ì”¨ ì •ë³´
 */
export interface WeatherData {
  type: WeatherType;              // ë‚ ì”¨ ì¢…ë¥˜
  name: string;                   // ì´ë¦„ (ì˜ˆ: "íƒœì–‘ ì—ë„ˆì§€")
  emoji: string;                  // ì´ëª¨ì§€ (ì˜ˆ: "â˜€ï¸")
  price: number;                  // í˜„ì¬ ê°€ê²©
  change: number;                 // ë³€í™”ëŸ‰ (ì ˆëŒ€ê°’)
  changePercent: number;          // ë³€í™”ìœ¨ (%)
  trend: WeatherTrend;            // ì¶”ì„¸ (ìƒìŠ¹/í•˜ë½/ì•ˆì •)
  history: PriceHistory[];        // 24ì‹œê°„ ê°€ê²© ì´ë ¥
}

/**
 * ë‚ ì”¨ ì„¤ì • (ìƒ‰ìƒ, ì´ë¦„ ë“±)
 */
export interface WeatherConfig {
  type: WeatherType;
  name: string;
  emoji: string;
  color: string;        // ë©”ì¸ ìƒ‰ìƒ (ì˜ˆ: #FFB547)
  bgColor: string;      // ë°°ê²½ ìƒ‰ìƒ (ì˜ˆ: #FFF4E0)
}

// ===== í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë ¨ íƒ€ì… =====

/**
 * ê±°ë˜ ë‚´ì—­
 */
export interface Transaction {
  id: string;                    // ê³ ìœ  ID (UUID)
  type: WeatherType;             // ë‚ ì”¨ ì¢…ë¥˜
  action: 'buy' | 'sell';        // ë§¤ìˆ˜/ë§¤ë„
  quantity: number;              // ìˆ˜ëŸ‰
  price: number;                 // ê±°ë˜ ê°€ê²© (ë‹¨ê°€)
  totalAmount: number;           // ì´ ê±°ë˜ ê¸ˆì•¡
  timestamp: number;             // ê±°ë˜ ì‹œê°„
  profitLoss?: number;           // ì†ìµ (ë§¤ë„ ì‹œ)
}

/**
 * ë³´ìœ  ë‚ ì”¨
 */
export interface Holding {
  type: WeatherType;             // ë‚ ì”¨ ì¢…ë¥˜
  quantity: number;              // ìˆ˜ëŸ‰
  avgBuyPrice: number;           // í‰ê·  ë§¤ìˆ˜ê°€
  totalInvested: number;         // ì´ íˆ¬ìê¸ˆì•¡
  currentPrice: number;          // í˜„ì¬ ê°€ê²©
  currentValue: number;          // í˜„ì¬ ê°€ì¹˜
  profitLoss: number;            // ì†ìµ
  profitLossPercent: number;     // ì†ìµë¥  (%)
}

/**
 * ì‚¬ìš©ì í¬íŠ¸í´ë¦¬ì˜¤
 */
export interface Portfolio {
  energy: number;                // ë³´ìœ  ì—ë„ˆì§€ (ê²Œì„ ë¨¸ë‹ˆ)
  totalValue: number;            // ì´ ìì‚° ê°€ì¹˜
  profitLoss: number;            // ì´ ì†ìµ
  profitLossPercent: number;     // ì´ ì†ìµë¥ 
  holdings: Holding[];           // ë³´ìœ  ë‚ ì”¨ ëª©ë¡
  transactions: Transaction[];   // ê±°ë˜ ë‚´ì—­
  createdAt: number;             // ê³„ì • ìƒì„± ì‹œê°„
  lastUpdated: number;           // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸
}

// ===== ì•± ì„¤ì • ê´€ë ¨ íƒ€ì… =====

/**
 * ì•± ì„¤ì •
 */
export interface AppSettings {
  location?: string;              // ë™ë„¤ ì´ë¦„ (ì„ íƒ)
  notificationsEnabled: boolean;  // ì•Œë¦¼ ì„¤ì •
  soundEnabled: boolean;          // ì‚¬ìš´ë“œ ì„¤ì •
  theme: 'light' | 'dark';        // í…Œë§ˆ (í˜„ì¬ëŠ” lightë§Œ)
}

/**
 * ì•± ì „ì²´ ìƒíƒœ
 */
export interface AppState {
  weather: WeatherData[];         // ëª¨ë“  ë‚ ì”¨ ë°ì´í„°
  portfolio: Portfolio;           // í¬íŠ¸í´ë¦¬ì˜¤
  settings: AppSettings;          // ì„¤ì •
  isLoading: boolean;             // ë¡œë”© ìƒíƒœ
  lastUpdate: number;             // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
}
```

**ì½”ë“œ ì„¤ëª…**:
- `export type`: íŠ¹ì • ê°’ë§Œ í—ˆìš©í•˜ëŠ” íƒ€ì… (ì˜ˆ: 'solar', 'wind' ì¤‘ í•˜ë‚˜ë§Œ)
- `export interface`: ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ì •ì˜
- `number`: ìˆ«ì íƒ€ì…
- `string`: ë¬¸ìì—´ íƒ€ì…
- `boolean`: true/false
- `?`: ì„ íƒì  ì†ì„± (ì—†ì–´ë„ ë¨)
- `[]`: ë°°ì—´ (ì—¬ëŸ¬ ê°œ)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/types/index.ts` íŒŒì¼ ìƒì„±
- [ ] ëª¨ë“  íƒ€ì… ì •ì˜ ì‘ì„± ì™„ë£Œ
- [ ] ì£¼ì„ìœ¼ë¡œ ê° íƒ€ì…ì˜ ìš©ë„ ì„¤ëª… ì¶”ê°€
- [ ] TypeScript ì˜¤ë¥˜ ì—†ëŠ”ì§€ í™•ì¸ (VS Codeì—ì„œ ë¹¨ê°„ ë°‘ì¤„ ì—†ìœ¼ë©´ OK)

---

### âœ… 2.2 ìƒìˆ˜ ì •ì˜ - ë‚ ì”¨ íŒ¨í„´

**ëª©í‘œ**: ê³„ì ˆ/ì‹œê°„ì— ë”°ë¥¸ ë‚ ì”¨ ê°€ê²© íŒ¨í„´ ë°ì´í„° ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 310-406ì¤„ (ê³„ì ˆ íŒ¨í„´ ë°ì´í„°)
- `docs/plan.md` 108-160ì¤„ (ê³„ì ˆ/ì‹œê°„ íŒ¨í„´ ì„¤ëª…)

**ì‘ì—… ë‚´ìš©**:

**`src/constants/weather-patterns.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ë‚ ì”¨ ê³„ì ˆ íŒ¨í„´ ë°ì´í„°
 * ê³¼ê±° 10ë…„ ë‚ ì”¨ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±
 * ì°¸ê³ : docs/architecture.md 310-406ì¤„
 */

/**
 * ì›”ë³„ ê³„ì ˆ íŒ¨í„´
 * - min: ìµœì†Œ ê°€ê²©
 * - max: ìµœëŒ€ ê°€ê²©
 * - volatility: ë³€ë™ì„± (0-1, ë†’ì„ìˆ˜ë¡ ê°€ê²© ë³€í™” í¼)
 */
export const SEASONAL_PATTERNS = {
  solar: {
    1:  { min: 200,  max: 400,  volatility: 0.1 },   // 1ì›” ê²¨ìš¸
    2:  { min: 250,  max: 450,  volatility: 0.12 },
    3:  { min: 400,  max: 600,  volatility: 0.15 },  // 3ì›” ë´„
    4:  { min: 500,  max: 700,  volatility: 0.15 },
    5:  { min: 600,  max: 800,  volatility: 0.15 },
    6:  { min: 700,  max: 900,  volatility: 0.18 },  // 6ì›” ì—¬ë¦„
    7:  { min: 800,  max: 1200, volatility: 0.2 },   // 7ì›” ì—¬ë¦„ ìµœê³ !
    8:  { min: 750,  max: 1100, volatility: 0.18 },
    9:  { min: 600,  max: 900,  volatility: 0.15 },  // 9ì›” ê°€ì„
    10: { min: 500,  max: 700,  volatility: 0.15 },
    11: { min: 350,  max: 550,  volatility: 0.12 },
    12: { min: 250,  max: 450,  volatility: 0.1 },   // 12ì›” ê²¨ìš¸
  },
  wind: {
    1:  { min: 400,  max: 600,  volatility: 0.2 },
    2:  { min: 450,  max: 650,  volatility: 0.2 },
    3:  { min: 600,  max: 900,  volatility: 0.25 },  // 3ì›” ë´„ë°”ëŒ
    4:  { min: 700,  max: 1000, volatility: 0.25 },
    5:  { min: 650,  max: 950,  volatility: 0.25 },
    6:  { min: 400,  max: 700,  volatility: 0.18 },
    7:  { min: 350,  max: 650,  volatility: 0.18 },
    8:  { min: 400,  max: 700,  volatility: 0.18 },
    9:  { min: 600,  max: 900,  volatility: 0.25 },  // 9ì›” ê°€ì„ë°”ëŒ
    10: { min: 700,  max: 1000, volatility: 0.25 },
    11: { min: 650,  max: 950,  volatility: 0.25 },
    12: { min: 500,  max: 800,  volatility: 0.2 },
  },
  water: {
    1:  { min: 200,  max: 400,  volatility: 0.15 },  // 1ì›” ê±´ì¡°
    2:  { min: 250,  max: 450,  volatility: 0.15 },
    3:  { min: 400,  max: 600,  volatility: 0.18 },
    4:  { min: 500,  max: 700,  volatility: 0.2 },
    5:  { min: 600,  max: 800,  volatility: 0.22 },
    6:  { min: 800,  max: 1100, volatility: 0.25 },  // 6ì›” ì¥ë§ˆ ì‹œì‘
    7:  { min: 900,  max: 1300, volatility: 0.3 },   // 7ì›” ì¥ë§ˆ ìµœê³ !
    8:  { min: 800,  max: 1100, volatility: 0.25 },
    9:  { min: 600,  max: 900,  volatility: 0.2 },
    10: { min: 500,  max: 700,  volatility: 0.18 },
    11: { min: 400,  max: 600,  volatility: 0.15 },
    12: { min: 250,  max: 450,  volatility: 0.15 },
  },
  heat: {
    1:  { min: 100,  max: 300,  volatility: 0.08 },  // 1ì›” ì¶”ì›€
    2:  { min: 150,  max: 350,  volatility: 0.08 },
    3:  { min: 300,  max: 500,  volatility: 0.1 },
    4:  { min: 450,  max: 650,  volatility: 0.1 },
    5:  { min: 600,  max: 800,  volatility: 0.12 },
    6:  { min: 750,  max: 950,  volatility: 0.12 },
    7:  { min: 850,  max: 1150, volatility: 0.15 },  // 7ì›” ë”ì›€!
    8:  { min: 800,  max: 1100, volatility: 0.15 },
    9:  { min: 650,  max: 850,  volatility: 0.12 },
    10: { min: 500,  max: 700,  volatility: 0.1 },
    11: { min: 350,  max: 550,  volatility: 0.08 },
    12: { min: 150,  max: 350,  volatility: 0.08 },
  },
} as const;

/**
 * ì‹œê°„ëŒ€ë³„ ê°€ì¤‘ì¹˜ (0-23ì‹œ)
 * 0.0 = 0%, 1.0 = 100%
 * ì˜ˆ: íƒœì–‘ì€ ë‚® 12ì‹œì— 1.0 (100%), ë°¤ 12ì‹œì— 0.0 (0%)
 */
export const TIME_MULTIPLIERS = {
  solar: {
    0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 0.1,
    6: 0.3, 7: 0.5, 8: 0.7, 9: 0.85, 10: 0.95, 11: 1.0,
    12: 1.0, 13: 0.95, 14: 0.9, 15: 0.8, 16: 0.65, 17: 0.5,
    18: 0.3, 19: 0.1, 20: 0.0, 21: 0.0, 22: 0.0, 23: 0.0,
  },
  wind: {
    0: 0.6, 1: 0.5, 2: 0.5, 3: 0.5, 4: 0.6, 5: 0.7,
    6: 0.8, 7: 0.9, 8: 1.0, 9: 1.0, 10: 1.0, 11: 1.0,
    12: 1.0, 13: 1.0, 14: 1.0, 15: 0.9, 16: 0.8, 17: 0.7,
    18: 0.7, 19: 0.7, 20: 0.7, 21: 0.6, 22: 0.6, 23: 0.6,
  },
  water: {
    0: 0.9, 1: 0.9, 2: 0.9, 3: 0.9, 4: 0.9, 5: 1.0,
    6: 1.0, 7: 1.0, 8: 0.95, 9: 0.9, 10: 0.85, 11: 0.8,
    12: 0.75, 13: 0.7, 14: 0.7, 15: 0.75, 16: 0.8, 17: 0.85,
    18: 0.9, 19: 0.95, 20: 1.0, 21: 1.0, 22: 0.95, 23: 0.9,
  },
  heat: {
    0: 0.3, 1: 0.25, 2: 0.2, 3: 0.2, 4: 0.2, 5: 0.25,
    6: 0.4, 7: 0.6, 8: 0.75, 9: 0.85, 10: 0.92, 11: 0.97,
    12: 1.0, 13: 1.0, 14: 1.0, 15: 0.95, 16: 0.85, 17: 0.7,
    18: 0.55, 19: 0.45, 20: 0.4, 21: 0.35, 22: 0.32, 23: 0.3,
  },
} as const;
```

**íŒ¨í„´ ì´í•´í•˜ê¸°**:
- **ê²¨ìš¸ (12-2ì›”)**: íƒœì–‘/ì˜¨ë„ ë‚®ìŒ, ë¬¼ ê±´ì¡°
- **ë´„ (3-5ì›”)**: ë°”ëŒ ë§ìŒ, ëª¨ë“  ë‚ ì”¨ ìƒìŠ¹
- **ì—¬ë¦„ (6-8ì›”)**: íƒœì–‘/ì˜¨ë„/ë¬¼ ìµœê³  (ì¥ë§ˆ)
- **ê°€ì„ (9-11ì›”)**: ë°”ëŒ ë§ìŒ, ì˜¨ë„ í•˜ë½

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/constants/weather-patterns.ts` íŒŒì¼ ìƒì„±
- [ ] `SEASONAL_PATTERNS` ì •ì˜ ì™„ë£Œ (4 ë‚ ì”¨ Ã— 12ê°œì›”)
- [ ] `TIME_MULTIPLIERS` ì •ì˜ ì™„ë£Œ (4 ë‚ ì”¨ Ã— 24ì‹œê°„)
- [ ] TypeScript ì˜¤ë¥˜ ì—†ëŠ”ì§€ í™•ì¸

---

### âœ… 2.3 ìƒìˆ˜ ì •ì˜ - ë‚ ì”¨ ì„¤ì • ë° ìƒ‰ìƒ

**ëª©í‘œ**: 4ê°€ì§€ ë‚ ì”¨ì˜ ê¸°ë³¸ ì •ë³´ì™€ ìƒ‰ìƒ ì •ì˜í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 89-144ì¤„ (ë‚ ì”¨ ìƒ‰ìƒ)
- `docs/architecture.md` 223-230ì¤„ (WeatherConfig)
- `.cursorrules` 107-139ì¤„ (ìƒ‰ìƒ íŒ”ë ˆíŠ¸)

**ì‘ì—… ë‚´ìš©**:

**`src/constants/config.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ì•± ì„¤ì • ë° ìƒìˆ˜
 * ì°¸ê³ : docs/design-guide.md 89-144ì¤„
 */

import type { WeatherType, WeatherConfig } from '@/types';

/**
 * 3ë¶„ ì—…ë°ì´íŠ¸ ì£¼ê¸° (ë°€ë¦¬ì´ˆ)
 */
export const UPDATE_INTERVAL = 3 * 60 * 1000; // 180,000ms = 3ë¶„

/**
 * ì´ˆê¸° ì—ë„ˆì§€ (ê²Œì„ ë¨¸ë‹ˆ)
 */
export const INITIAL_ENERGY = 10000;

/**
 * ê°€ê²© ì´ë ¥ ìµœëŒ€ ë³´ê´€ ê°œìˆ˜ (24ì‹œê°„ë¶„)
 * 3ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ = ì‹œê°„ë‹¹ 20ê°œ = 24ì‹œê°„ 480ê°œ
 */
export const HISTORY_LENGTH = 480;

/**
 * 4ê°€ì§€ ë‚ ì”¨ ì„¤ì •
 */
export const WEATHER_CONFIGS: Record<WeatherType, WeatherConfig> = {
  solar: {
    type: 'solar',
    name: 'íƒœì–‘ ì—ë„ˆì§€',
    emoji: 'â˜€ï¸',
    color: '#FFB547',      // ë”°ëœ»í•œ ë…¸ë‘
    bgColor: '#FFF4E0',    // í–‡ì‚´ ë°°ê²½
  },
  wind: {
    type: 'wind',
    name: 'ë°”ëŒ ì—ë„ˆì§€',
    emoji: 'ğŸ’¨',
    color: '#7DD3FC',      // í•˜ëŠ˜ íŒŒë‘
    bgColor: '#E8F7FF',    // êµ¬ë¦„ ë°°ê²½
  },
  water: {
    type: 'water',
    name: 'ìˆ˜ë¶„ ì—ë„ˆì§€',
    emoji: 'ğŸ’§',
    color: '#60CFFF',      // ë°ì€ ì²­ë¡
    bgColor: '#E0F7FF',    // ë¬¼ë°©ìš¸ ë°°ê²½
  },
  heat: {
    type: 'heat',
    name: 'ì˜¨ë„ ì—ë„ˆì§€',
    emoji: 'ğŸŒ¡ï¸',
    color: '#FF8A80',      // ì½”ë„ ë ˆë“œ
    bgColor: '#FFF0EE',    // ë”°ëœ»í•œ ë°°ê²½
  },
};

/**
 * ìƒíƒœë³„ ìƒ‰ìƒ
 */
export const TREND_COLORS = {
  rising: {
    main: '#FF6B6B',       // ë¹¨ê°•
    bg: '#FFE9E9',         // ì—°í•œ ë¹¨ê°• ë°°ê²½
    emoji: 'ğŸ”¥',
    text: 'ì˜¬ë¼ê°€ëŠ” ì¤‘!',
  },
  falling: {
    main: '#74C0FC',       // íŒŒë‘
    bg: '#E7F5FF',         // ì—°í•œ íŒŒë‘ ë°°ê²½
    emoji: 'â„ï¸',
    text: 'ë‚´ë ¤ê°€ëŠ” ì¤‘',
  },
  stable: {
    main: '#ADB5BD',       // íšŒìƒ‰
    bg: '#F1F3F5',         // ì—°í•œ íšŒìƒ‰ ë°°ê²½
    emoji: 'âšª',
    text: 'ë³€í™” ì—†ìŒ',
  },
} as const;

/**
 * ì„±ê³µ/ê²½ê³  ìƒ‰ìƒ
 */
export const STATUS_COLORS = {
  success: {
    main: '#5FD4A0',       // ë¯¼íŠ¸ ê·¸ë¦°
    bg: '#E8F9F1',
    text: 'ì„±ê³µ!',
  },
  warning: {
    main: '#FF8A65',       // í”¼ì¹˜ ì˜¤ë Œì§€
    bg: '#FFEBE5',
    text: 'ì£¼ì˜!',
  },
} as const;
```

**ì½”ë“œ ì„¤ëª…**:
- `Record<WeatherType, WeatherConfig>`: 4ê°€ì§€ ë‚ ì”¨ ê°ê°ì— ì„¤ì • ê°ì²´ ì—°ê²°
- `as const`: ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ê²Œ ê³ ì • (ìƒìˆ˜ë¡œ ë§Œë“¦)
- `@/types`: `src/types` í´ë”ë¥¼ ì˜ë¯¸ (TypeScript ê²½ë¡œ ë³„ì¹­)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/constants/config.ts` íŒŒì¼ ìƒì„±
- [ ] ì—…ë°ì´íŠ¸ ì£¼ê¸° ë° ì´ˆê¸°ê°’ ì •ì˜
- [ ] 4ê°€ì§€ ë‚ ì”¨ ì„¤ì • ì™„ë£Œ
- [ ] ìƒíƒœë³„/ì„±ê³µ/ê²½ê³  ìƒ‰ìƒ ì •ì˜
- [ ] ìƒ‰ìƒ ì½”ë“œê°€ `docs/design-guide.md`ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

---

### âœ… 2.4 ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ë¡œì§

**ëª©í‘œ**: ê³„ì ˆ/ì‹œê°„ì— ë§ëŠ” ë‚ ì”¨ ê°€ê²©ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 408-478ì¤„ (ê°€ê²© ìƒì„± ë¡œì§)
- `docs/plan.md` 138-160ì¤„ (ê³„ì ˆ íŒ¨í„´ ì‘ë™ ë°©ì‹)

**ì‘ì—… ë‚´ìš©**:

**`src/lib/weather-simulator.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„
 * ê³„ì ˆê³¼ ì‹œê°„ì— ë”°ë¼ í˜„ì‹¤ì ì¸ ë‚ ì”¨ ê°€ê²© ìƒì„±
 * ì°¸ê³ : docs/architecture.md 408-478ì¤„
 */

import { SEASONAL_PATTERNS, TIME_MULTIPLIERS } from '@/constants/weather-patterns';
import type { WeatherType, WeatherTrend } from '@/types';

/**
 * ë²”ìœ„ ë‚´ ëœë¤ ìˆ«ì ìƒì„±
 */
function randomInRange(min: number, max: number): number {
  return Math.random() * (max - min) + min;
}

/**
 * íŠ¹ì • ë‚ ì”¨ì˜ í˜„ì¬ ê°€ê²© ìƒì„±
 * @param type - ë‚ ì”¨ ì¢…ë¥˜
 * @param date - ê¸°ì¤€ ë‚ ì§œ/ì‹œê°„ (ê¸°ë³¸ê°’: í˜„ì¬)
 * @returns ìƒì„±ëœ ê°€ê²© (ì—ë„ˆì§€)
 */
export function generateWeatherPrice(
  type: WeatherType,
  date: Date = new Date()
): number {
  // 1. í˜„ì¬ ì›”(1-12)ê³¼ ì‹œê°„(0-23) ê°€ì ¸ì˜¤ê¸°
  const month = (date.getMonth() + 1) as 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;
  const hour = date.getHours() as 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23;
  
  // 2. í•´ë‹¹ ì›”ì˜ ê³„ì ˆ íŒ¨í„´ ê°€ì ¸ì˜¤ê¸°
  const pattern = SEASONAL_PATTERNS[type][month];
  
  // 3. í•´ë‹¹ ì‹œê°„ì˜ ê°€ì¤‘ì¹˜ ê°€ì ¸ì˜¤ê¸°
  const timeMultiplier = TIME_MULTIPLIERS[type][hour];
  
  // 4. ê¸°ë³¸ ê°€ê²© ìƒì„± (ê³„ì ˆ íŒ¨í„´ ë²”ìœ„ ë‚´)
  const basePrice = randomInRange(pattern.min, pattern.max);
  
  // 5. ì‹œê°„ëŒ€ ê°€ì¤‘ì¹˜ ì ìš©
  const priceWithTime = basePrice * timeMultiplier;
  
  // 6. ëœë¤ ë³€ë™ì„± ì¶”ê°€ (ë” í˜„ì‹¤ì ìœ¼ë¡œ)
  // volatilityê°€ 0.2ë©´ Â±20% ë³€ë™
  const volatilityFactor = 1 + (Math.random() - 0.5) * pattern.volatility * 2;
  const finalPrice = priceWithTime * volatilityFactor;
  
  // 7. ìµœì†Œ ê°€ê²© ë³´ì¥ (100 ì´ìƒ) ë° ë°˜ì˜¬ë¦¼
  return Math.max(100, Math.round(finalPrice));
}

/**
 * 4ê°€ì§€ ë‚ ì”¨ ëª¨ë‘ì˜ ê°€ê²© ìƒì„±
 * @param date - ê¸°ì¤€ ë‚ ì§œ/ì‹œê°„
 * @returns ë‚ ì”¨ë³„ ê°€ê²© ê°ì²´
 */
export function generateAllWeatherPrices(
  date: Date = new Date()
): Record<WeatherType, number> {
  return {
    solar: generateWeatherPrice('solar', date),
    wind: generateWeatherPrice('wind', date),
    water: generateWeatherPrice('water', date),
    heat: generateWeatherPrice('heat', date),
  };
}

/**
 * ì¶”ì„¸ ê³„ì‚° (ì´ì „ ê°€ê²© ëŒ€ë¹„ ë³€í™”)
 * @param currentPrice - í˜„ì¬ ê°€ê²©
 * @param previousPrice - ì´ì „ ê°€ê²©
 * @returns ì¶”ì„¸ ('rising', 'falling', 'stable')
 */
export function calculateTrend(
  currentPrice: number,
  previousPrice: number
): WeatherTrend {
  const changePercent = ((currentPrice - previousPrice) / previousPrice) * 100;
  
  // 1% ì´ìƒ ì˜¬ëìœ¼ë©´ ìƒìŠ¹
  if (changePercent > 1) return 'rising';
  
  // 1% ì´ìƒ ë‚´ë ¸ìœ¼ë©´ í•˜ë½
  if (changePercent < -1) return 'falling';
  
  // ê·¸ ì™¸ëŠ” ì•ˆì •
  return 'stable';
}

/**
 * ë³€í™”ìœ¨ ê³„ì‚° í—¬í¼ í•¨ìˆ˜
 */
export function calculateChange(currentPrice: number, previousPrice: number) {
  const change = currentPrice - previousPrice;
  const changePercent = (change / previousPrice) * 100;
  
  return {
    change,           // ì ˆëŒ€ê°’
    changePercent,    // í¼ì„¼íŠ¸
  };
}
```

**ë¡œì§ ì„¤ëª…**:
1. **ê³„ì ˆ íŒ¨í„´ ì ìš©**: 7ì›”ì—ëŠ” íƒœì–‘ ì—ë„ˆì§€ê°€ 800-1200 ë²”ìœ„
2. **ì‹œê°„ëŒ€ ì ìš©**: ë‚® 12ì‹œì—ëŠ” íƒœì–‘ 100%, ë°¤ 12ì‹œì—ëŠ” 0%
3. **ë³€ë™ì„± ì¶”ê°€**: ì™„ì „íˆ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ì§€ ì•Šë„ë¡ ëœë¤ ìš”ì†Œ
4. **ìµœì†Œ ë³´ì¥**: í•­ìƒ 100 ì´ìƒì˜ ê°€ê²© ìœ ì§€

**ì˜ˆì‹œ**:
- 7ì›” ë‚® 12ì‹œ íƒœì–‘: 800-1200 ë²”ìœ„ Ã— 1.0 (100%) = 800-1200
- 7ì›” ë°¤ 12ì‹œ íƒœì–‘: 800-1200 ë²”ìœ„ Ã— 0.0 (0%) = 100 (ìµœì†Œê°’)
- 1ì›” ë‚® 12ì‹œ íƒœì–‘: 200-400 ë²”ìœ„ Ã— 1.0 (100%) = 200-400

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/lib/weather-simulator.ts` íŒŒì¼ ìƒì„±
- [ ] `generateWeatherPrice` í•¨ìˆ˜ ì‘ì„±
- [ ] `generateAllWeatherPrices` í•¨ìˆ˜ ì‘ì„±
- [ ] `calculateTrend` í•¨ìˆ˜ ì‘ì„±
- [ ] TypeScript ì˜¤ë¥˜ ì—†ëŠ”ì§€ í™•ì¸

---

### âœ… 2.5 ê°€ê²© ê³„ì‚° ë° ê±°ë˜ ë¡œì§

**ëª©í‘œ**: ì‚¬ê³  íŒ”ê¸° ê¸°ëŠ¥ ë§Œë“¤ê¸° (í¬íŠ¸í´ë¦¬ì˜¤ ì—…ë°ì´íŠ¸)

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 686-860ì¤„ (ê±°ë˜ ì‹œìŠ¤í…œ)
- `docs/plan.md` 162-179ì¤„ (ì‚¬ê³  íŒŒëŠ” ë°©ë²•)

**ì‘ì—… ë‚´ìš©**:

**`src/lib/price-calculator.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ê°€ê²© ê³„ì‚° ë° ê±°ë˜ ì‹¤í–‰ ë¡œì§
 * ì°¸ê³ : docs/architecture.md 686-860ì¤„
 */

import { v4 as uuidv4 } from 'uuid';
import type { Portfolio, WeatherType, Transaction, Holding } from '@/types';

/**
 * ë§¤ìˆ˜ ì‹¤í–‰
 * @param portfolio - í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤
 * @param type - ë‚ ì”¨ ì¢…ë¥˜
 * @param quantity - êµ¬ë§¤ ìˆ˜ëŸ‰
 * @param currentPrice - í˜„ì¬ ê°€ê²©
 * @returns ì—…ë°ì´íŠ¸ëœ í¬íŠ¸í´ë¦¬ì˜¤
 */
export function executeBuy(
  portfolio: Portfolio,
  type: WeatherType,
  quantity: number,
  currentPrice: number
): Portfolio {
  // 1. ì´ ë¹„ìš© ê³„ì‚°
  const totalCost = quantity * currentPrice;
  
  // 2. ì”ì•¡ í™•ì¸
  if (portfolio.energy < totalCost) {
    throw new Error('ì—ë„ˆì§€ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤');
  }
  
  // 3. ê±°ë˜ ë‚´ì—­ ìƒì„±
  const transaction: Transaction = {
    id: uuidv4(),                  // ê³ ìœ  ID
    type,
    action: 'buy',
    quantity,
    price: currentPrice,
    totalAmount: totalCost,
    timestamp: Date.now(),
  };
  
  // 4. ê¸°ì¡´ ë³´ìœ  í•­ëª© ì°¾ê¸°
  const existingHolding = portfolio.holdings.find(h => h.type === type);
  
  let updatedHoldings: Holding[];
  
  if (existingHolding) {
    // 4-1. ì´ë¯¸ ê°€ì§€ê³  ìˆìœ¼ë©´ â†’ ì¶”ê°€ ë§¤ìˆ˜ (í‰ê·  ë§¤ìˆ˜ê°€ ì¬ê³„ì‚°)
    const totalQuantity = existingHolding.quantity + quantity;
    const totalInvested = existingHolding.totalInvested + totalCost;
    const avgBuyPrice = totalInvested / totalQuantity;  // í‰ê·  ë§¤ìˆ˜ê°€
    
    updatedHoldings = portfolio.holdings.map(h =>
      h.type === type
        ? {
            type: h.type,
            quantity: totalQuantity,
            avgBuyPrice,
            totalInvested,
            currentPrice,
            currentValue: totalQuantity * currentPrice,
            profitLoss: (currentPrice - avgBuyPrice) * totalQuantity,
            profitLossPercent: ((currentPrice - avgBuyPrice) / avgBuyPrice) * 100,
          }
        : h
    );
  } else {
    // 4-2. ì²˜ìŒ ì‚¬ëŠ” ê±°ë©´ â†’ ìƒˆ ë³´ìœ  í•­ëª© ì¶”ê°€
    updatedHoldings = [
      ...portfolio.holdings,
      {
        type,
        quantity,
        avgBuyPrice: currentPrice,      // í˜„ì¬ ê°€ê²©ì´ í‰ê·  ë§¤ìˆ˜ê°€
        totalInvested: totalCost,
        currentPrice,
        currentValue: totalCost,
        profitLoss: 0,                  // ì²˜ìŒì—” ì†ìµ 0
        profitLossPercent: 0,
      },
    ];
  }
  
  // 5. ì—…ë°ì´íŠ¸ëœ í¬íŠ¸í´ë¦¬ì˜¤ ë°˜í™˜
  return {
    ...portfolio,
    energy: portfolio.energy - totalCost,        // ì—ë„ˆì§€ ì°¨ê°
    holdings: updatedHoldings,
    transactions: [transaction, ...portfolio.transactions],  // ìµœì‹ ìˆœ
    lastUpdated: Date.now(),
  };
}

/**
 * ë§¤ë„ ì‹¤í–‰
 * @param portfolio - í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤
 * @param type - ë‚ ì”¨ ì¢…ë¥˜
 * @param quantity - íŒë§¤ ìˆ˜ëŸ‰
 * @param currentPrice - í˜„ì¬ ê°€ê²©
 * @returns ì—…ë°ì´íŠ¸ëœ í¬íŠ¸í´ë¦¬ì˜¤
 */
export function executeSell(
  portfolio: Portfolio,
  type: WeatherType,
  quantity: number,
  currentPrice: number
): Portfolio {
  // 1. ë³´ìœ  í™•ì¸
  const holding = portfolio.holdings.find(h => h.type === type);
  
  if (!holding || holding.quantity < quantity) {
    throw new Error('ë³´ìœ  ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤');
  }
  
  // 2. ìˆ˜ìµ ê³„ì‚°
  const totalRevenue = quantity * currentPrice;                    // íŒë§¤ ê¸ˆì•¡
  const soldCost = (holding.totalInvested / holding.quantity) * quantity;  // ì›ë˜ ìƒ€ë˜ ê¸ˆì•¡
  const profitLoss = totalRevenue - soldCost;                      // ì†ìµ
  
  // 3. ê±°ë˜ ë‚´ì—­ ìƒì„±
  const transaction: Transaction = {
    id: uuidv4(),
    type,
    action: 'sell',
    quantity,
    price: currentPrice,
    totalAmount: totalRevenue,
    timestamp: Date.now(),
    profitLoss,                  // ë§¤ë„ëŠ” ì†ìµ ê¸°ë¡
  };
  
  // 4. ë³´ìœ  í•­ëª© ì—…ë°ì´íŠ¸
  const remainingQuantity = holding.quantity - quantity;
  let updatedHoldings: Holding[];
  
  if (remainingQuantity === 0) {
    // 4-1. ì „ëŸ‰ ë§¤ë„ â†’ í•­ëª© ì œê±°
    updatedHoldings = portfolio.holdings.filter(h => h.type !== type);
  } else {
    // 4-2. ì¼ë¶€ ë§¤ë„ â†’ ìˆ˜ëŸ‰ ê°ì†Œ
    updatedHoldings = portfolio.holdings.map(h =>
      h.type === type
        ? {
            type: h.type,
            quantity: remainingQuantity,
            avgBuyPrice: h.avgBuyPrice,              // í‰ê·  ë§¤ìˆ˜ê°€ ìœ ì§€
            totalInvested: h.totalInvested - soldCost,
            currentPrice,
            currentValue: remainingQuantity * currentPrice,
            profitLoss: (currentPrice - h.avgBuyPrice) * remainingQuantity,
            profitLossPercent: ((currentPrice - h.avgBuyPrice) / h.avgBuyPrice) * 100,
          }
        : h
    );
  }
  
  // 5. ì—…ë°ì´íŠ¸ëœ í¬íŠ¸í´ë¦¬ì˜¤ ë°˜í™˜
  return {
    ...portfolio,
    energy: portfolio.energy + totalRevenue,     // ì—ë„ˆì§€ ì¦ê°€
    holdings: updatedHoldings,
    transactions: [transaction, ...portfolio.transactions],
    lastUpdated: Date.now(),
  };
}

/**
 * í¬íŠ¸í´ë¦¬ì˜¤ ì´ ê°€ì¹˜ ê³„ì‚°
 * @param portfolio - í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤
 * @param currentPrices - í˜„ì¬ ê°€ê²©ë“¤
 * @returns ì´ ê°€ì¹˜, ì†ìµ, ì†ìµë¥ 
 */
export function calculateTotalValue(
  portfolio: Portfolio,
  currentPrices: Record<WeatherType, number>
): {
  totalValue: number;
  profitLoss: number;
  profitLossPercent: number;
} {
  // 1. ë³´ìœ  ë‚ ì”¨ë“¤ì˜ í˜„ì¬ ê°€ì¹˜ í•©ì‚°
  const holdingsValue = portfolio.holdings.reduce((sum, holding) => {
    const currentPrice = currentPrices[holding.type];
    return sum + (holding.quantity * currentPrice);
  }, 0);
  
  // 2. ì´ ê°€ì¹˜ = ë³´ìœ  ì—ë„ˆì§€ + ë³´ìœ  ë‚ ì”¨ ê°€ì¹˜
  const totalValue = portfolio.energy + holdingsValue;
  
  // 3. ì†ìµ = í˜„ì¬ ê°€ì¹˜ - ì´ˆê¸° ìë³¸ (10,000)
  const profitLoss = totalValue - 10000;
  
  // 4. ì†ìµë¥  = (ì†ìµ / ì´ˆê¸° ìë³¸) Ã— 100
  const profitLossPercent = (profitLoss / 10000) * 100;
  
  return {
    totalValue,
    profitLoss,
    profitLossPercent,
  };
}

/**
 * ë³´ìœ  ë‚ ì”¨ ì—…ë°ì´íŠ¸ (í˜„ì¬ ê°€ê²© ë°˜ì˜)
 * @param holdings - í˜„ì¬ ë³´ìœ  ëª©ë¡
 * @param currentPrices - í˜„ì¬ ê°€ê²©ë“¤
 * @returns ì—…ë°ì´íŠ¸ëœ ë³´ìœ  ëª©ë¡
 */
export function updateHoldingsPrices(
  holdings: Holding[],
  currentPrices: Record<WeatherType, number>
): Holding[] {
  return holdings.map(holding => {
    const currentPrice = currentPrices[holding.type];
    const currentValue = holding.quantity * currentPrice;
    const profitLoss = (currentPrice - holding.avgBuyPrice) * holding.quantity;
    const profitLossPercent = ((currentPrice - holding.avgBuyPrice) / holding.avgBuyPrice) * 100;
    
    return {
      ...holding,
      currentPrice,
      currentValue,
      profitLoss,
      profitLossPercent,
    };
  });
}
```

**ë¡œì§ ì„¤ëª…**:
- **ë§¤ìˆ˜**: ì—ë„ˆì§€ ì°¨ê° â†’ í‰ê·  ë§¤ìˆ˜ê°€ ê³„ì‚° â†’ ë³´ìœ  í•­ëª© ì¶”ê°€/ì—…ë°ì´íŠ¸
- **ë§¤ë„**: ìˆ˜ìµ ê³„ì‚° â†’ ì—ë„ˆì§€ ì¦ê°€ â†’ ë³´ìœ  í•­ëª© ê°ì†Œ/ì œê±°
- **í‰ê·  ë§¤ìˆ˜ê°€**: (ì´ íˆ¬ì ê¸ˆì•¡) Ã· (ì´ ìˆ˜ëŸ‰)
- **ì†ìµ**: (í˜„ì¬ ê°€ê²© - í‰ê·  ë§¤ìˆ˜ê°€) Ã— ìˆ˜ëŸ‰

**ì˜ˆì‹œ**:
1. íƒœì–‘ 1ê°œë¥¼ 1,000ì— êµ¬ë§¤ â†’ í‰ê·  ë§¤ìˆ˜ê°€ 1,000
2. íƒœì–‘ 1ê°œë¥¼ 1,200ì— ì¶”ê°€ êµ¬ë§¤ â†’ í‰ê·  ë§¤ìˆ˜ê°€ 1,100 ((1,000+1,200)/2)
3. í˜„ì¬ ê°€ê²© 1,300 â†’ ì†ìµ +400 ((1,300-1,100) Ã— 2ê°œ)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/lib/price-calculator.ts` íŒŒì¼ ìƒì„±
- [ ] `executeBuy` í•¨ìˆ˜ ì‘ì„±
- [ ] `executeSell` í•¨ìˆ˜ ì‘ì„±
- [ ] `calculateTotalValue` í•¨ìˆ˜ ì‘ì„±
- [ ] `updateHoldingsPrices` í•¨ìˆ˜ ì‘ì„±
- [ ] í‰ê·  ë§¤ìˆ˜ê°€ ê³„ì‚° ë¡œì§ í™•ì¸

---

### âœ… 2.6 ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬

**ëª©í‘œ**: ë¸Œë¼ìš°ì €ì— í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 574-683ì¤„ (ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬)

**ì‘ì—… ë‚´ìš©**:

**`src/lib/storage.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * localStorageë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ì˜êµ¬ ì €ì¥
 * ì°¸ê³ : docs/architecture.md 574-683ì¤„
 */

import { INITIAL_ENERGY } from '@/constants/config';
import type { Portfolio, AppSettings } from '@/types';

/**
 * ì €ì¥ì†Œ í‚¤ ì •ì˜
 */
const STORAGE_KEYS = {
  PORTFOLIO: 'weather-app-portfolio',
  SETTINGS: 'weather-app-settings',
  VERSION: 'weather-app-version',
} as const;

/**
 * í˜„ì¬ ì•± ë²„ì „
 * ë²„ì „ì´ ë°”ë€Œë©´ ê¸°ì¡´ ë°ì´í„° ì‚­ì œ (í˜¸í™˜ì„± ë¬¸ì œ ë°©ì§€)
 */
const CURRENT_VERSION = '1.0.0';

/**
 * í¬íŠ¸í´ë¦¬ì˜¤ ì €ì¥
 * @param portfolio - ì €ì¥í•  í¬íŠ¸í´ë¦¬ì˜¤
 */
export function savePortfolio(portfolio: Portfolio): void {
  try {
    const jsonString = JSON.stringify(portfolio);
    localStorage.setItem(STORAGE_KEYS.PORTFOLIO, jsonString);
    localStorage.setItem(STORAGE_KEYS.VERSION, CURRENT_VERSION);
  } catch (error) {
    console.error('í¬íŠ¸í´ë¦¬ì˜¤ ì €ì¥ ì‹¤íŒ¨:', error);
    // ì €ì¥ì†Œê°€ ê½‰ ì°¼ì„ ìˆ˜ ìˆìŒ (QuotaExceededError)
  }
}

/**
 * í¬íŠ¸í´ë¦¬ì˜¤ ë¶ˆëŸ¬ì˜¤ê¸°
 * @returns ì €ì¥ëœ í¬íŠ¸í´ë¦¬ì˜¤ ë˜ëŠ” null
 */
export function loadPortfolio(): Portfolio | null {
  try {
    // 1. ë²„ì „ í™•ì¸
    const savedVersion = localStorage.getItem(STORAGE_KEYS.VERSION);
    if (savedVersion !== CURRENT_VERSION) {
      console.warn('ë²„ì „ ë¶ˆì¼ì¹˜, ì €ì¥ì†Œ ì´ˆê¸°í™”');
      clearAllStorage();
      return null;
    }
    
    // 2. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
    const jsonString = localStorage.getItem(STORAGE_KEYS.PORTFOLIO);
    if (!jsonString) {
      return null;  // ì €ì¥ëœ ë°ì´í„° ì—†ìŒ
    }
    
    // 3. JSON íŒŒì‹±
    const portfolio = JSON.parse(jsonString) as Portfolio;
    
    // 4. ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ (ê¸°ë³¸ì ì¸)
    if (!portfolio.energy || !Array.isArray(portfolio.holdings)) {
      console.warn('ì˜ëª»ëœ ë°ì´í„° í˜•ì‹');
      return null;
    }
    
    return portfolio;
  } catch (error) {
    console.error('í¬íŠ¸í´ë¦¬ì˜¤ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
    return null;
  }
}

/**
 * ì´ˆê¸° í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± (ì²˜ìŒ ì‹œì‘í•  ë•Œ)
 * @returns ìƒˆ í¬íŠ¸í´ë¦¬ì˜¤
 */
export function createInitialPortfolio(): Portfolio {
  return {
    energy: INITIAL_ENERGY,        // 10,000
    totalValue: INITIAL_ENERGY,
    profitLoss: 0,
    profitLossPercent: 0,
    holdings: [],                  // ë¹„ì–´ìˆìŒ
    transactions: [],              // ë¹„ì–´ìˆìŒ
    createdAt: Date.now(),
    lastUpdated: Date.now(),
  };
}

/**
 * ì„¤ì • ì €ì¥
 * @param settings - ì €ì¥í•  ì„¤ì •
 */
export function saveSettings(settings: AppSettings): void {
  try {
    const jsonString = JSON.stringify(settings);
    localStorage.setItem(STORAGE_KEYS.SETTINGS, jsonString);
  } catch (error) {
    console.error('ì„¤ì • ì €ì¥ ì‹¤íŒ¨:', error);
  }
}

/**
 * ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
 * @returns ì €ì¥ëœ ì„¤ì • ë˜ëŠ” ê¸°ë³¸ê°’
 */
export function loadSettings(): AppSettings {
  try {
    const jsonString = localStorage.getItem(STORAGE_KEYS.SETTINGS);
    if (!jsonString) {
      // ê¸°ë³¸ ì„¤ì • ë°˜í™˜
      return {
        notificationsEnabled: true,
        soundEnabled: true,
        theme: 'light',
      };
    }
    
    const settings = JSON.parse(jsonString) as AppSettings;
    return settings;
  } catch (error) {
    console.error('ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
    // ê¸°ë³¸ ì„¤ì • ë°˜í™˜
    return {
      notificationsEnabled: true,
      soundEnabled: true,
      theme: 'light',
    };
  }
}

/**
 * ëª¨ë“  ì €ì¥ì†Œ ì´ˆê¸°í™” (ë¦¬ì…‹)
 */
export function clearAllStorage(): void {
  try {
    Object.values(STORAGE_KEYS).forEach(key => {
      localStorage.removeItem(key);
    });
    console.log('ì €ì¥ì†Œ ì´ˆê¸°í™” ì™„ë£Œ');
  } catch (error) {
    console.error('ì €ì¥ì†Œ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
  }
}

/**
 * ì €ì¥ì†Œ ì‚¬ìš©ëŸ‰ í™•ì¸ (ë””ë²„ê¹…ìš©)
 */
export function checkStorageSize(): number {
  try {
    let totalSize = 0;
    Object.values(STORAGE_KEYS).forEach(key => {
      const value = localStorage.getItem(key);
      if (value) {
        totalSize += value.length;
      }
    });
    // ë°”ì´íŠ¸ ë‹¨ìœ„ ë°˜í™˜
    return totalSize;
  } catch {
    return 0;
  }
}
```

**ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë€?**:
- ë¸Œë¼ìš°ì €ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ (ì•½ 5-10MB)
- ì•±ì„ ë‹«ì•˜ë‹¤ê°€ ë‹¤ì‹œ ì—´ì–´ë„ ë°ì´í„° ìœ ì§€
- ë¬¸ìì—´ë§Œ ì €ì¥ ê°€ëŠ¥ â†’ JSON.stringify/parse ì‚¬ìš©

**ì €ì¥ ì‹œì **:
- ê±°ë˜í•  ë•Œë§ˆë‹¤ ìë™ ì €ì¥
- ì„¤ì • ë³€ê²½í•  ë•Œ ìë™ ì €ì¥
- 3ë¶„ë§ˆë‹¤ ê°€ê²© ì—…ë°ì´íŠ¸ ë•ŒëŠ” ì €ì¥ ì•ˆ í•¨ (ì„±ëŠ¥)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/lib/storage.ts` íŒŒì¼ ìƒì„±
- [ ] `savePortfolio` / `loadPortfolio` í•¨ìˆ˜ ì‘ì„±
- [ ] `createInitialPortfolio` í•¨ìˆ˜ ì‘ì„±
- [ ] `saveSettings` / `loadSettings` í•¨ìˆ˜ ì‘ì„±
- [ ] `clearAllStorage` í•¨ìˆ˜ ì‘ì„±
- [ ] ì—ëŸ¬ ì²˜ë¦¬ (try-catch) í™•ì¸

---

### âœ… 2.7 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

**ëª©í‘œ**: ìì£¼ ì‚¬ìš©í•˜ëŠ” í—¬í¼ í•¨ìˆ˜ë“¤ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 153ì¤„ (utils.ts)

**ì‘ì—… ë‚´ìš©**:

**`src/lib/utils.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ëª¨ìŒ
 */

/**
 * ìˆ«ìë¥¼ ì²œ ë‹¨ìœ„ ì½¤ë§ˆ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
 * @param num - ë³€í™˜í•  ìˆ«ì
 * @returns í¬ë§·ëœ ë¬¸ìì—´
 * @example formatNumber(12350) â†’ "12,350"
 */
export function formatNumber(num: number): string {
  return num.toLocaleString('ko-KR');
}

/**
 * ì—ë„ˆì§€ ë‹¨ìœ„ í¬ë§· (ìˆ«ì + âš¡)
 * @param energy - ì—ë„ˆì§€ ê°’
 * @returns í¬ë§·ëœ ë¬¸ìì—´
 * @example formatEnergy(1200) â†’ "1,200 âš¡"
 */
export function formatEnergy(energy: number): string {
  return `${formatNumber(energy)} âš¡`;
}

/**
 * í¼ì„¼íŠ¸ í¬ë§· (+ ê¸°í˜¸ í¬í•¨)
 * @param percent - í¼ì„¼íŠ¸ ê°’
 * @param decimals - ì†Œìˆ˜ì  ìë¦¬ìˆ˜ (ê¸°ë³¸ 1)
 * @returns í¬ë§·ëœ ë¬¸ìì—´
 * @example formatPercent(23.5) â†’ "+23.5%"
 * @example formatPercent(-8.2) â†’ "-8.2%"
 */
export function formatPercent(percent: number, decimals: number = 1): string {
  const sign = percent >= 0 ? '+' : '';
  return `${sign}${percent.toFixed(decimals)}%`;
}

/**
 * ì‹œê°„ ê²½ê³¼ í‘œì‹œ (ìƒëŒ€ ì‹œê°„)
 * @param timestamp - Unix timestamp (ë°€ë¦¬ì´ˆ)
 * @returns ìƒëŒ€ ì‹œê°„ ë¬¸ìì—´
 * @example formatTimeAgo(Date.now() - 60000) â†’ "1ë¶„ ì „"
 */
export function formatTimeAgo(timestamp: number): string {
  const now = Date.now();
  const diff = now - timestamp;
  
  const seconds = Math.floor(diff / 1000);
  const minutes = Math.floor(seconds / 60);
  const hours = Math.floor(minutes / 60);
  const days = Math.floor(hours / 24);
  
  if (seconds < 60) return 'ë°©ê¸ˆ ì „';
  if (minutes < 60) return `${minutes}ë¶„ ì „`;
  if (hours < 24) return `${hours}ì‹œê°„ ì „`;
  return `${days}ì¼ ì „`;
}

/**
 * ì‹œê°„ í¬ë§· (ì˜¤ì „/ì˜¤í›„ í˜•ì‹)
 * @param timestamp - Unix timestamp (ë°€ë¦¬ì´ˆ)
 * @returns í¬ë§·ëœ ì‹œê°„ ë¬¸ìì—´
 * @example formatTime(timestamp) â†’ "ì˜¤í›„ 3:24"
 */
export function formatTime(timestamp: number): string {
  const date = new Date(timestamp);
  return date.toLocaleTimeString('ko-KR', {
    hour: '2-digit',
    minute: '2-digit',
  });
}

/**
 * ë‚ ì§œ í¬ë§·
 * @param timestamp - Unix timestamp (ë°€ë¦¬ì´ˆ)
 * @returns í¬ë§·ëœ ë‚ ì§œ ë¬¸ìì—´
 * @example formatDate(timestamp) â†’ "12ì›” 24ì¼"
 */
export function formatDate(timestamp: number): string {
  const date = new Date(timestamp);
  return date.toLocaleDateString('ko-KR', {
    month: 'long',
    day: 'numeric',
  });
}

/**
 * í˜„ì¬ ê³„ì ˆ ê°€ì ¸ì˜¤ê¸°
 * @param date - ê¸°ì¤€ ë‚ ì§œ (ê¸°ë³¸ê°’: í˜„ì¬)
 * @returns ê³„ì ˆ ì´ë¦„
 */
export function getCurrentSeason(date: Date = new Date()): string {
  const month = date.getMonth() + 1; // 1-12
  
  if (month >= 3 && month <= 5) return 'ë´„';
  if (month >= 6 && month <= 8) return 'ì—¬ë¦„';
  if (month >= 9 && month <= 11) return 'ê°€ì„';
  return 'ê²¨ìš¸';
}

/**
 * ê³„ì ˆ ì´ëª¨ì§€ ê°€ì ¸ì˜¤ê¸°
 */
export function getSeasonEmoji(date: Date = new Date()): string {
  const season = getCurrentSeason(date);
  const emojiMap = {
    'ë´„': 'ğŸŒ¸',
    'ì—¬ë¦„': 'â˜€ï¸',
    'ê°€ì„': 'ğŸ‚',
    'ê²¨ìš¸': 'â„ï¸',
  };
  return emojiMap[season as keyof typeof emojiMap];
}

/**
 * í´ë˜ìŠ¤ëª… ì¡°í•© (Tailwind CSSìš©)
 * @param classes - í´ë˜ìŠ¤ëª…ë“¤
 * @returns í•©ì³ì§„ í´ë˜ìŠ¤ëª…
 * @example cn('text-blue-500', condition && 'font-bold') â†’ "text-blue-500 font-bold"
 */
export function cn(...classes: (string | boolean | undefined)[]): string {
  return classes.filter(Boolean).join(' ');
}
```

**ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
formatNumber(12350)              // "12,350"
formatEnergy(1200)              // "1,200 âš¡"
formatPercent(23.5)             // "+23.5%"
formatTimeAgo(Date.now() - 60000)  // "1ë¶„ ì „"
getCurrentSeason()              // "ê²¨ìš¸" (12ì›” ê¸°ì¤€)
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/lib/utils.ts` íŒŒì¼ ìƒì„±
- [ ] ìˆ«ì/ì—ë„ˆì§€/í¼ì„¼íŠ¸ í¬ë§· í•¨ìˆ˜ ì‘ì„±
- [ ] ì‹œê°„/ë‚ ì§œ í¬ë§· í•¨ìˆ˜ ì‘ì„±
- [ ] ê³„ì ˆ ê´€ë ¨ í•¨ìˆ˜ ì‘ì„±
- [ ] í´ë˜ìŠ¤ëª… ì¡°í•© í•¨ìˆ˜ ì‘ì„±

---

## ğŸ¯ Phase 3: ì»¤ìŠ¤í…€ í›… ê°œë°œ (ì˜ˆìƒ ì‹œê°„: 2-3ì‹œê°„)

### âœ… 3.1 ë‚ ì”¨ ê°€ê²© ê´€ë¦¬ í›…

**ëª©í‘œ**: 3ë¶„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ë‚ ì”¨ ê°€ê²©ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” í›… ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 480-572ì¤„ (3ë¶„ ìë™ ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ)
- `.cursorrules` 265-290ì¤„ (useWeatherPrices ì˜ˆì œ)

**ì‘ì—… ë‚´ìš©**:

**`src/hooks/useWeatherPrices.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ë‚ ì”¨ ê°€ê²© ê´€ë¦¬ í›…
 * 3ë¶„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ê°€ê²© ì—…ë°ì´íŠ¸
 * ì°¸ê³ : docs/architecture.md 480-572ì¤„
 */

'use client';

import { useState, useEffect, useCallback } from 'react';
import { generateAllWeatherPrices, calculateTrend, calculateChange } from '@/lib/weather-simulator';
import { WEATHER_CONFIGS, UPDATE_INTERVAL, HISTORY_LENGTH } from '@/constants/config';
import type { WeatherData, WeatherType } from '@/types';

/**
 * ë‚ ì”¨ ê°€ê²© ìë™ ì—…ë°ì´íŠ¸ í›…
 * @returns ë‚ ì”¨ ë°ì´í„°, ë¡œë”© ìƒíƒœ, ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
 */
export function useWeatherPrices() {
  const [weatherData, setWeatherData] = useState<WeatherData[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [lastUpdate, setLastUpdate] = useState<number>(Date.now());

  /**
   * ê°€ê²© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
   */
  const updatePrices = useCallback(() => {
    const now = new Date();
    const newPrices = generateAllWeatherPrices(now);
    const timestamp = now.getTime();

    setWeatherData(prevData => {
      // ì²« ì—…ë°ì´íŠ¸ (ì´ˆê¸° ë¡œë“œ)
      if (prevData.length === 0) {
        return Object.entries(WEATHER_CONFIGS).map(([type, config]) => {
          const price = newPrices[type as WeatherType];
          
          return {
            type: type as WeatherType,
            name: config.name,
            emoji: config.emoji,
            price,
            change: 0,
            changePercent: 0,
            trend: 'stable' as const,
            history: [{
              timestamp,
              price,
            }],
          };
        });
      }

      // ê¸°ì¡´ ë°ì´í„° ì—…ë°ì´íŠ¸ (2ë²ˆì§¸ ì—…ë°ì´íŠ¸ë¶€í„°)
      return prevData.map(weather => {
        const newPrice = newPrices[weather.type];
        const oldPrice = weather.price;
        
        // ë³€í™” ê³„ì‚°
        const { change, changePercent } = calculateChange(newPrice, oldPrice);
        const trend = calculateTrend(newPrice, oldPrice);

        // ì´ë ¥ ì¶”ê°€ (ìµœëŒ€ HISTORY_LENGTHê°œ ìœ ì§€)
        const newHistory = [
          ...weather.history,
          { timestamp, price: newPrice },
        ].slice(-HISTORY_LENGTH);  // ìµœê·¼ 480ê°œë§Œ ìœ ì§€

        return {
          ...weather,
          price: newPrice,
          change,
          changePercent,
          trend,
          history: newHistory,
        };
      });
    });

    setLastUpdate(timestamp);
  }, []);

  // ì´ˆê¸° ë¡œë“œ ë° 3ë¶„ ì£¼ê¸° ìë™ ì—…ë°ì´íŠ¸
  useEffect(() => {
    // 1. ì¦‰ì‹œ ì²« ì—…ë°ì´íŠ¸
    updatePrices();
    setIsLoading(false);

    // 2. 3ë¶„ë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸ ì„¤ì •
    const interval = setInterval(updatePrices, UPDATE_INTERVAL);

    // 3. ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ íƒ€ì´ë¨¸ ì •ë¦¬
    return () => clearInterval(interval);
  }, [updatePrices]);

  return {
    weatherData,      // 4ê°€ì§€ ë‚ ì”¨ ë°ì´í„°
    isLoading,        // ë¡œë”© ìƒíƒœ
    lastUpdate,       // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
    updatePrices,     // ìˆ˜ë™ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (í•„ìš”ì‹œ)
  };
}

/**
 * íŠ¹ì • ë‚ ì”¨ í•˜ë‚˜ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (í¸ì˜ í•¨ìˆ˜)
 */
export function useWeatherData(type: WeatherType) {
  const { weatherData, isLoading } = useWeatherPrices();
  const weather = weatherData.find(w => w.type === type);
  
  return {
    weather,
    isLoading,
  };
}
```

**ì‘ë™ ë°©ì‹**:
1. **ì´ˆê¸° ë¡œë“œ**: ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ë©´ ì¦‰ì‹œ ê°€ê²© ìƒì„±
2. **3ë¶„ ì£¼ê¸°**: `setInterval`ë¡œ 180ì´ˆë§ˆë‹¤ `updatePrices` í˜¸ì¶œ
3. **ì´ë ¥ ê´€ë¦¬**: ìµœê·¼ 480ê°œ ê°€ê²©ë§Œ ìœ ì§€ (24ì‹œê°„ë¶„)
4. **ë³€í™” ê³„ì‚°**: ì´ì „ ê°€ê²©ê³¼ ë¹„êµí•´ì„œ ìƒìŠ¹/í•˜ë½/ì•ˆì • íŒë‹¨

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/hooks/useWeatherPrices.ts` íŒŒì¼ ìƒì„±
- [ ] `useWeatherPrices` í›… ì‘ì„±
- [ ] `useWeatherData` í¸ì˜ í•¨ìˆ˜ ì‘ì„±
- [ ] `'use client'` ì§€ì‹œì–´ í™•ì¸ (í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ìš©)
- [ ] TypeScript ì˜¤ë¥˜ ì—†ëŠ”ì§€ í™•ì¸

---

### âœ… 3.2 í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ í›…

**ëª©í‘œ**: í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ ê´€ë¦¬ ë° ê±°ë˜ ì‹¤í–‰ í›… ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1414-1474ì¤„ (í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ í›…)
- `.cursorrules` 461-490ì¤„ (usePortfolio ì˜ˆì œ)

**ì‘ì—… ë‚´ìš©**:

**`src/hooks/usePortfolio.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ í›…
 * ì°¸ê³ : docs/architecture.md 1414-1474ì¤„
 */

'use client';

import { useState, useEffect, useCallback, useMemo } from 'react';
import { loadPortfolio, savePortfolio, createInitialPortfolio } from '@/lib/storage';
import { executeBuy, executeSell, calculateTotalValue, updateHoldingsPrices } from '@/lib/price-calculator';
import type { Portfolio, WeatherType, WeatherData } from '@/types';

/**
 * í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ í›…
 * @param weatherData - í˜„ì¬ ë‚ ì”¨ ë°ì´í„° (ê°€ê²© ì •ë³´)
 * @returns í¬íŠ¸í´ë¦¬ì˜¤, ì´ ê°€ì¹˜, ì†ìµ, ê±°ë˜ í•¨ìˆ˜
 */
export function usePortfolio(weatherData: WeatherData[]) {
  // 1. í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ (ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ë˜ëŠ” ìƒˆë¡œ ìƒì„±)
  const [portfolio, setPortfolio] = useState<Portfolio>(() => {
    // ì´ˆê¸° stateëŠ” í•¨ìˆ˜ë¡œ lazy ì´ˆê¸°í™” (í•œ ë²ˆë§Œ ì‹¤í–‰)
    const saved = loadPortfolio();
    return saved || createInitialPortfolio();
  });

  // 2. í˜„ì¬ ê°€ê²© ë§µ (WeatherType â†’ price)
  const currentPrices = useMemo(() => {
    return weatherData.reduce((acc, w) => {
      acc[w.type] = w.price;
      return acc;
    }, {} as Record<WeatherType, number>);
  }, [weatherData]);

  // 3. ì´ ê°€ì¹˜ ê³„ì‚° (í˜„ì¬ ê°€ê²© ê¸°ì¤€)
  const { totalValue, profitLoss, profitLossPercent } = useMemo(() => {
    // weatherDataê°€ ë¹„ì–´ìˆìœ¼ë©´ ê¸°ë³¸ê°’
    if (weatherData.length === 0) {
      return {
        totalValue: portfolio.energy,
        profitLoss: 0,
        profitLossPercent: 0,
      };
    }
    
    return calculateTotalValue(portfolio, currentPrices);
  }, [portfolio, weatherData, currentPrices]);

  // 4. ê°€ê²© ë³€ë™ ì‹œ ë³´ìœ  ë‚ ì”¨ ì—…ë°ì´íŠ¸
  useEffect(() => {
    if (weatherData.length === 0 || portfolio.holdings.length === 0) {
      return;  // ì•„ì§ ë°ì´í„° ì—†ìœ¼ë©´ ìŠ¤í‚µ
    }

    setPortfolio(prev => {
      const updatedHoldings = updateHoldingsPrices(prev.holdings, currentPrices);
      
      return {
        ...prev,
        holdings: updatedHoldings,
        totalValue,
        profitLoss,
        profitLossPercent,
      };
    });
  }, [currentPrices, weatherData.length, totalValue, profitLoss, profitLossPercent]);

  // 5. í¬íŠ¸í´ë¦¬ì˜¤ ë³€ê²½ ì‹œ ìë™ ì €ì¥
  useEffect(() => {
    savePortfolio(portfolio);
  }, [portfolio]);

  /**
   * ê±°ë˜ ì‹¤í–‰ í•¨ìˆ˜
   */
  const executeTrade = useCallback(async (
    action: 'buy' | 'sell',
    type: WeatherType,
    quantity: number
  ) => {
    const currentPrice = currentPrices[type];
    
    if (!currentPrice) {
      throw new Error('ê°€ê²© ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
    }
    
    try {
      const updatedPortfolio = action === 'buy'
        ? executeBuy(portfolio, type, quantity, currentPrice)
        : executeSell(portfolio, type, quantity, currentPrice);
      
      setPortfolio(updatedPortfolio);
      
      // ì„±ê³µ í”¼ë“œë°± (ì„ íƒ ì‚¬í•­)
      return { success: true };
    } catch (error) {
      // ì—ëŸ¬ ì²˜ë¦¬
      console.error('ê±°ë˜ ì‹¤íŒ¨:', error);
      throw error;
    }
  }, [portfolio, currentPrices]);

  /**
   * íŠ¹ì • ë‚ ì”¨ ë³´ìœ  ì •ë³´ ê°€ì ¸ì˜¤ê¸°
   */
  const getHolding = useCallback((type: WeatherType) => {
    return portfolio.holdings.find(h => h.type === type);
  }, [portfolio.holdings]);

  /**
   * ìµœëŒ€ ë§¤ìˆ˜ ê°€ëŠ¥ ìˆ˜ëŸ‰ ê³„ì‚°
   */
  const getMaxBuyQuantity = useCallback((type: WeatherType): number => {
    const currentPrice = currentPrices[type];
    if (!currentPrice || currentPrice === 0) return 0;
    
    return Math.floor(portfolio.energy / currentPrice);
  }, [portfolio.energy, currentPrices]);

  /**
   * ìµœëŒ€ ë§¤ë„ ê°€ëŠ¥ ìˆ˜ëŸ‰ (ë³´ìœ  ìˆ˜ëŸ‰)
   */
  const getMaxSellQuantity = useCallback((type: WeatherType): number => {
    const holding = getHolding(type);
    return holding?.quantity || 0;
  }, [getHolding]);

  return {
    portfolio,              // ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤
    totalValue,             // ì´ ê°€ì¹˜
    profitLoss,             // ì†ìµ (ì ˆëŒ€ê°’)
    profitLossPercent,      // ì†ìµë¥  (%)
    executeTrade,           // ê±°ë˜ ì‹¤í–‰ í•¨ìˆ˜
    getHolding,             // íŠ¹ì • ë‚ ì”¨ ë³´ìœ  ì •ë³´
    getMaxBuyQuantity,      // ìµœëŒ€ ë§¤ìˆ˜ ê°€ëŠ¥ ìˆ˜ëŸ‰
    getMaxSellQuantity,     // ìµœëŒ€ ë§¤ë„ ê°€ëŠ¥ ìˆ˜ëŸ‰
  };
}
```

**ì‘ë™ ë°©ì‹**:
1. **ì´ˆê¸°í™”**: ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ 10,000 ì—ë„ˆì§€ë¡œ ì‹œì‘
2. **ê°€ê²© ì—…ë°ì´íŠ¸**: weatherDataê°€ ë³€ê²½ë˜ë©´ ë³´ìœ  ë‚ ì”¨ì˜ í˜„ì¬ ê°€ì¹˜ ì¬ê³„ì‚°
3. **ìë™ ì €ì¥**: ê±°ë˜í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
4. **ê±°ë˜ ì‹¤í–‰**: executeTrade í•¨ìˆ˜ë¡œ ì‚¬ê³ íŒ”ê¸°

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/hooks/usePortfolio.ts` íŒŒì¼ ìƒì„±
- [ ] `usePortfolio` í›… ì‘ì„±
- [ ] ê±°ë˜ í•¨ìˆ˜ë“¤ (`executeTrade`, `getHolding` ë“±) ì‘ì„±
- [ ] `'use client'` ì§€ì‹œì–´ í™•ì¸
- [ ] useMemo/useCallback ìµœì í™” í™•ì¸

---

### âœ… 3.3 ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í›…

**ëª©í‘œ**: ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë¥¼ React ìƒíƒœì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” í›… ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 158ì¤„ (useLocalStorage ì–¸ê¸‰)

**ì‘ì—… ë‚´ìš©**:

**`src/hooks/useLocalStorage.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * localStorageë¥¼ React ìƒíƒœì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” í›…
 */

'use client';

import { useState, useEffect } from 'react';

/**
 * localStorage í›…
 * @param key - ì €ì¥ì†Œ í‚¤
 * @param initialValue - ì´ˆê¸°ê°’
 * @returns [ê°’, ì„¤ì • í•¨ìˆ˜]
 */
export function useLocalStorage<T>(
  key: string,
  initialValue: T
): [T, (value: T) => void] {
  // 1. ì´ˆê¸° state (localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ë˜ëŠ” ì´ˆê¸°ê°’)
  const [storedValue, setStoredValue] = useState<T>(() => {
    if (typeof window === 'undefined') {
      return initialValue;  // ì„œë²„ ì‚¬ì´ë“œì—ì„œëŠ” ì´ˆê¸°ê°’ ì‚¬ìš©
    }

    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(`Error loading ${key} from localStorage:`, error);
      return initialValue;
    }
  });

  // 2. ê°’ ì„¤ì • í•¨ìˆ˜
  const setValue = (value: T) => {
    try {
      // state ì—…ë°ì´íŠ¸
      setStoredValue(value);
      
      // localStorageì— ì €ì¥
      if (typeof window !== 'undefined') {
        window.localStorage.setItem(key, JSON.stringify(value));
      }
    } catch (error) {
      console.error(`Error saving ${key} to localStorage:`, error);
    }
  };

  return [storedValue, setValue];
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
// ì„¤ì • ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
const [settings, setSettings] = useLocalStorage('app-settings', {
  notificationsEnabled: true,
  soundEnabled: true,
});

// ì‚¬ìš©
setSettings({ ...settings, soundEnabled: false });
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/hooks/useLocalStorage.ts` íŒŒì¼ ìƒì„±
- [ ] `useLocalStorage` í›… ì‘ì„±
- [ ] ì œë„¤ë¦­ íƒ€ì… `<T>` ì‚¬ìš© í™•ì¸
- [ ] ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê³ ë ¤ (`window` ì²´í¬)

---

### âœ… 3.4 ì¸í„°ë²Œ í›…

**ëª©í‘œ**: setIntervalì„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í›… ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 158ì¤„ (useInterval ì–¸ê¸‰)

**ì‘ì—… ë‚´ìš©**:

**`src/hooks/useInterval.ts` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * setIntervalì„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í›…
 * ì°¸ê³ : Dan Abramovì˜ useInterval í›…
 */

'use client';

import { useEffect, useRef } from 'react';

/**
 * ì¸í„°ë²Œ í›…
 * @param callback - ì‹¤í–‰í•  í•¨ìˆ˜
 * @param delay - ì§€ì—° ì‹œê°„ (ë°€ë¦¬ì´ˆ), nullì´ë©´ ì •ì§€
 */
export function useInterval(callback: () => void, delay: number | null) {
  const savedCallback = useRef<() => void>();

  // 1. ì½œë°± í•¨ìˆ˜ ì €ì¥ (ìµœì‹  ë²„ì „ ìœ ì§€)
  useEffect(() => {
    savedCallback.current = callback;
  }, [callback]);

  // 2. ì¸í„°ë²Œ ì„¤ì •
  useEffect(() => {
    // delayê°€ nullì´ë©´ ì¸í„°ë²Œ ì •ì§€
    if (delay === null) {
      return;
    }

    function tick() {
      savedCallback.current?.();
    }

    const id = setInterval(tick, delay);

    // 3. í´ë¦°ì—… (ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ)
    return () => clearInterval(id);
  }, [delay]);
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
// 1ì´ˆë§ˆë‹¤ ì¹´ìš´íŠ¸ ì¦ê°€
const [count, setCount] = useState(0);
useInterval(() => {
  setCount(count + 1);
}, 1000);

// ì •ì§€
useInterval(() => {
  // ...
}, null);  // nullì„ ì „ë‹¬í•˜ë©´ ì •ì§€
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/hooks/useInterval.ts` íŒŒì¼ ìƒì„±
- [ ] `useInterval` í›… ì‘ì„±
- [ ] useRefë¡œ ìµœì‹  ì½œë°± ì €ì¥ í™•ì¸
- [ ] í´ë¦°ì—… ë¡œì§ í™•ì¸

---

**Phase 2ì™€ 3 ì™„ë£Œ!** ğŸ‰

ì´ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ê´€ë¦¬ê°€ ëª¨ë‘ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ Phaseì—ì„œëŠ” ì‹¤ì œ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.

**ì§€ê¸ˆê¹Œì§€ ë§Œë“  ê²ƒ**:
- âœ… ë°ì´í„° íƒ€ì… ì •ì˜ (TypeScript)
- âœ… ê³„ì ˆ/ì‹œê°„ íŒ¨í„´ ë°ì´í„°
- âœ… ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„
- âœ… ê±°ë˜ ì‹œìŠ¤í…œ (ì‚¬ê³ íŒ”ê¸°)
- âœ… ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬
- âœ… ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
- âœ… ì»¤ìŠ¤í…€ í›… 4ê°œ

**ë‹¤ìŒ ë‹¨ê³„**: UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ (ë²„íŠ¼, ì¹´ë“œ, ëª¨ë‹¬ ë“±)

---

## ğŸ¯ Phase 4: ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ (ì˜ˆìƒ ì‹œê°„: 2-3ì‹œê°„)

### âœ… 4.1 Button ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: ì•± ì „ì²´ì—ì„œ ì‚¬ìš©í•  ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 967-987ì¤„ (ë²„íŠ¼ ìŠ¤íƒ€ì¼)
- `docs/wireframes.md` 952-987ì¤„ (ë²„íŠ¼ íƒ€ì…)
- `.cursorrules` 393-425ì¤„ (Button ì˜ˆì œ)

**ì‘ì—… ë‚´ìš©**:

**`src/components/ui/Button.tsx` íŒŒì¼ ìƒì„±**í•˜ê³  ë‹¤ìŒ ì½”ë“œ ì‘ì„±:

```typescript
/**
 * ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/design-guide.md 967-987ì¤„
 */

'use client';

import { motion } from 'motion/react';
import { cn } from '@/lib/utils';

interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  type?: 'button' | 'submit' | 'reset';
  variant?: 'primary' | 'secondary' | 'danger';
  disabled?: boolean;
  className?: string;
}

export function Button({
  children,
  onClick,
  type = 'button',
  variant = 'primary',
  disabled = false,
  className = '',
}: ButtonProps) {
  // ë² ì´ìŠ¤ ìŠ¤íƒ€ì¼
  const baseStyles = 'px-6 py-4 rounded-xl font-semibold transition-colors min-w-[44px] min-h-[44px]';
  
  // ë²„íŠ¼ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼
  const variants = {
    primary: 'bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700',
    secondary: 'bg-gray-100 text-gray-800 hover:bg-gray-200 active:bg-gray-300',
    danger: 'bg-red-500 text-white hover:bg-red-600 active:bg-red-700',
  };
  
  // disabled ìŠ¤íƒ€ì¼
  const disabledStyles = 'opacity-50 cursor-not-allowed';

  return (
    <motion.button
      type={type}
      onClick={onClick}
      disabled={disabled}
      whileTap={disabled ? {} : { scale: 0.95 }}
      className={cn(
        baseStyles,
        variants[variant],
        disabled && disabledStyles,
        className
      )}
    >
      {children}
    </motion.button>
  );
}
```

**ë²„íŠ¼ ì¢…ë¥˜**:
- **Primary**: ì£¼ìš” ì•¡ì…˜ (íŒŒë€ìƒ‰) - "í™•ì¸! ì‚¬ê¸° â†’"
- **Secondary**: ë³´ì¡° ì•¡ì…˜ (íšŒìƒ‰) - "ë‚˜ì¤‘ì— í•˜ê¸°"
- **Danger**: ìœ„í—˜í•œ ì•¡ì…˜ (ë¹¨ê°„ìƒ‰) - "ì „ë¶€ íŒ”ê¸°"

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<Button variant="primary" onClick={handleBuy}>
  í™•ì¸! ì‚¬ê¸° â†’
</Button>

<Button variant="secondary" onClick={handleClose}>
  ì·¨ì†Œ
</Button>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/ui/Button.tsx` íŒŒì¼ ìƒì„±
- [ ] 3ê°€ì§€ variant (primary, secondary, danger) êµ¬í˜„
- [ ] Motion ì• ë‹ˆë©”ì´ì…˜ (whileTap) ì¶”ê°€
- [ ] ìµœì†Œ í„°ì¹˜ ì˜ì—­ 44x44px í™•ì¸
- [ ] disabled ìƒíƒœ ì²˜ë¦¬

---

### âœ… 4.2 Card ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: ì»¨í…ì¸ ë¥¼ ë‹´ëŠ” ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 225-238ì¤„ (ì¹´ë“œ ë°°ê²½)
- `docs/design-guide.md` 937-960ì¤„ (ì¹´ë“œ ì—¬ë°±)

**ì‘ì—… ë‚´ìš©**:

**`src/components/ui/Card.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/design-guide.md 225-238ì¤„
 */

'use client';

import { motion } from 'motion/react';
import { cn } from '@/lib/utils';

interface CardProps {
  children: React.ReactNode;
  className?: string;
  onClick?: () => void;
  hoverable?: boolean;
}

export function Card({
  children,
  className = '',
  onClick,
  hoverable = false,
}: CardProps) {
  const baseStyles = 'bg-white rounded-3xl p-6 shadow-md';
  
  const Component = hoverable || onClick ? motion.div : 'div';
  
  const motionProps = hoverable || onClick ? {
    whileHover: { scale: 1.02, boxShadow: '0 8px 24px rgba(0, 0, 0, 0.12)' },
    whileTap: onClick ? { scale: 0.98 } : {},
    transition: { duration: 0.2 },
  } : {};

  return (
    <Component
      className={cn(baseStyles, onClick && 'cursor-pointer', className)}
      onClick={onClick}
      {...(Component === motion.div ? motionProps : {})}
    >
      {children}
    </Component>
  );
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<Card hoverable onClick={handleClick}>
  <h3>ë‚ ì”¨ ì¹´ë“œ ë‚´ìš©</h3>
</Card>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/ui/Card.tsx` íŒŒì¼ ìƒì„±
- [ ] ë‘¥ê·¼ ëª¨ì„œë¦¬ (rounded-3xl) ì ìš©
- [ ] ê·¸ë¦¼ì íš¨ê³¼ (shadow-md) ì ìš©
- [ ] hoverable propìœ¼ë¡œ í˜¸ë²„ ì• ë‹ˆë©”ì´ì…˜ ì„ íƒ ê°€ëŠ¥
- [ ] onClick ìˆì„ ë•Œ ì»¤ì„œ ë³€ê²½

---

### âœ… 4.3 Input ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 1019-1034ì¤„ (ì…ë ¥ í•„ë“œ)
- `docs/design-guide.md` 456-483ì¤„ (íƒ€ì´í¬ê·¸ë˜í”¼ - ë³¸ë¬¸)

**ì‘ì—… ë‚´ìš©**:

**`src/components/ui/Input.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * Input ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/wireframes.md 1019-1034ì¤„
 */

'use client';

import { cn } from '@/lib/utils';

interface InputProps {
  value: string | number;
  onChange: (value: string) => void;
  type?: 'text' | 'number';
  placeholder?: string;
  disabled?: boolean;
  className?: string;
  min?: number;
  max?: number;
}

export function Input({
  value,
  onChange,
  type = 'text',
  placeholder,
  disabled = false,
  className = '',
  min,
  max,
}: InputProps) {
  const baseStyles = 'w-full px-4 py-3 text-base bg-white border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none transition-colors';
  
  return (
    <input
      type={type}
      value={value}
      onChange={(e) => onChange(e.target.value)}
      placeholder={placeholder}
      disabled={disabled}
      min={min}
      max={max}
      className={cn(baseStyles, disabled && 'opacity-50 cursor-not-allowed', className)}
    />
  );
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<Input
  type="text"
  value={location}
  onChange={setLocation}
  placeholder="ì„œìš¸"
/>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/ui/Input.tsx` íŒŒì¼ ìƒì„±
- [ ] text/number íƒ€ì… ì§€ì›
- [ ] focus ì‹œ íŒŒë€ìƒ‰ í…Œë‘ë¦¬
- [ ] disabled ìƒíƒœ ì²˜ë¦¬
- [ ] ì•„ë˜ í…Œë‘ë¦¬ë§Œ í‘œì‹œ (ë””ìì¸ ê°€ì´ë“œ)

---

### âœ… 4.4 Slider ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: ìˆ˜ëŸ‰ ì„ íƒìš© ìŠ¬ë¼ì´ë” ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 1026-1034ì¤„ (ìŠ¬ë¼ì´ë”)
- `docs/architecture.md` 132ì¤„ (Slider ì–¸ê¸‰)

**ì‘ì—… ë‚´ìš©**:

**`src/components/ui/Slider.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * Slider ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/wireframes.md 1026-1034ì¤„
 */

'use client';

import { cn } from '@/lib/utils';

interface SliderProps {
  value: number;
  onChange: (value: number) => void;
  min: number;
  max: number;
  step?: number;
  disabled?: boolean;
  className?: string;
}

export function Slider({
  value,
  onChange,
  min,
  max,
  step = 1,
  disabled = false,
  className = '',
}: SliderProps) {
  return (
    <div className={cn('w-full', className)}>
      <input
        type="range"
        value={value}
        onChange={(e) => onChange(Number(e.target.value))}
        min={min}
        max={max}
        step={step}
        disabled={disabled}
        className={cn(
          'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer',
          'accent-blue-500',
          disabled && 'opacity-50 cursor-not-allowed'
        )}
      />
      <div className="flex justify-between mt-1 text-sm text-gray-600">
        <span>{min}</span>
        <span>{max}</span>
      </div>
    </div>
  );
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<Slider
  value={quantity}
  onChange={setQuantity}
  min={1}
  max={maxQuantity}
/>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/ui/Slider.tsx` íŒŒì¼ ìƒì„±
- [ ] range input ì‚¬ìš©
- [ ] íŒŒë€ìƒ‰ ê°•ì¡° (accent-blue-500)
- [ ] ìµœì†Œ/ìµœëŒ€ ê°’ í‘œì‹œ
- [ ] disabled ìƒíƒœ ì²˜ë¦¬

---

### âœ… 4.5 Modal ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: íŒì—… ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 1298-1312ì¤„ (ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜)
- `docs/architecture.md` 1067-1186ì¤„ (TradingModal êµ¬ì¡°)
- `docs/wireframes.md` 468-537ì¤„ (ì‚¬ê³ íŒ”ê¸° í™”ë©´)

**ì‘ì—… ë‚´ìš©**:

**`src/components/ui/Modal.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * Modal ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/design-guide.md 1298-1312ì¤„
 */

'use client';

import { motion, AnimatePresence } from 'motion/react';
import { useEffect } from 'react';

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  children: React.ReactNode;
  title?: string;
}

export function Modal({ isOpen, onClose, children, title }: ModalProps) {
  // ESC í‚¤ë¡œ ë‹«ê¸°
  useEffect(() => {
    const handleEsc = (e: KeyboardEvent) => {
      if (e.key === 'Escape') onClose();
    };
    
    if (isOpen) {
      window.addEventListener('keydown', handleEsc);
      // ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
      document.body.style.overflow = 'hidden';
    }
    
    return () => {
      window.removeEventListener('keydown', handleEsc);
      document.body.style.overflow = 'unset';
    };
  }, [isOpen, onClose]);

  return (
    <AnimatePresence>
      {isOpen && (
        <>
          {/* ë°°ê²½ ë”¤ */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 0.5 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.2 }}
            onClick={onClose}
            className="fixed inset-0 bg-black z-40"
          />

          {/* ëª¨ë‹¬ */}
          <motion.div
            initial={{ opacity: 0, scale: 0.8, y: 20 }}
            animate={{ opacity: 1, scale: 1, y: 0 }}
            exit={{ opacity: 0, scale: 0.8, y: 20 }}
            transition={{ duration: 0.3, ease: 'easeOut' }}
            className="fixed inset-x-4 top-1/2 -translate-y-1/2 max-w-md mx-auto bg-white rounded-3xl p-6 shadow-2xl z-50 max-h-[90vh] overflow-y-auto"
          >
            {/* í—¤ë” */}
            {title && (
              <div className="flex items-center justify-between mb-6">
                <h2 className="text-2xl font-bold">{title}</h2>
                <button
                  onClick={onClose}
                  className="text-3xl text-gray-400 hover:text-gray-600 leading-none"
                >
                  Ã—
                </button>
              </div>
            )}

            {/* ë‚´ìš© */}
            {children}
          </motion.div>
        </>
      )}
    </AnimatePresence>
  );
}
```

**ì• ë‹ˆë©”ì´ì…˜ ì„¤ëª…**:
- **ë°°ê²½**: íˆ¬ëª…â†’ë°˜íˆ¬ëª… (0â†’0.5 opacity)
- **ëª¨ë‹¬**: ì‘ê²Œâ†’í¬ê²Œ (0.8â†’1 scale), ì•„ë˜â†’ìœ„ (y: 20â†’0)
- **Exit**: ë“±ì¥ì˜ ì—­ìˆœ

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<Modal
  isOpen={isOpen}
  onClose={() => setIsOpen(false)}
  title="ë‚ ì”¨ ì‚¬ê¸°"
>
  <p>ëª¨ë‹¬ ë‚´ìš©</p>
</Modal>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/ui/Modal.tsx` íŒŒì¼ ìƒì„±
- [ ] AnimatePresenceë¡œ ë“±ì¥/í‡´ì¥ ì• ë‹ˆë©”ì´ì…˜
- [ ] ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
- [ ] ESC í‚¤ë¡œ ë‹«ê¸°
- [ ] ëª¨ë‹¬ ì—´ë¦´ ë•Œ ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
- [ ] ìµœëŒ€ ë†’ì´ 90vh, ìŠ¤í¬ë¡¤ ê°€ëŠ¥

---

## ğŸ¯ Phase 5: ë‚ ì”¨ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ (ì˜ˆìƒ ì‹œê°„: 2-3ì‹œê°„)

### âœ… 5.1 WeatherIcon ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: ë‚ ì”¨ ì•„ì´ì½˜ì„ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 579-686ì¤„ (ë‚ ì”¨ ìºë¦­í„° ë””ìì¸)
- `docs/wireframes.md` 443-459ì¤„ (ë‚ ì”¨ ì•„ì´ì½˜ ìƒíƒœ)

**ì‘ì—… ë‚´ìš©**:

**`src/components/weather/WeatherIcon.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * WeatherIcon ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/design-guide.md 579-686ì¤„
 */

'use client';

import { motion } from 'motion/react';
import type { WeatherType, WeatherTrend } from '@/types';
import { WEATHER_CONFIGS } from '@/constants/config';

interface WeatherIconProps {
  type: WeatherType;
  trend?: WeatherTrend;
  size?: 'sm' | 'md' | 'lg';
  animated?: boolean;
}

export function WeatherIcon({
  type,
  trend = 'stable',
  size = 'md',
  animated = true,
}: WeatherIconProps) {
  const config = WEATHER_CONFIGS[type];
  
  // í¬ê¸° ì„¤ì •
  const sizes = {
    sm: 'text-2xl w-10 h-10',  // 24px
    md: 'text-4xl w-16 h-16',  // 48px
    lg: 'text-6xl w-24 h-24',  // 60px
  };
  
  // ìƒíƒœë³„ ë§ ìƒ‰ìƒ
  const ringColors = {
    rising: 'ring-2 ring-red-500',
    falling: 'ring-2 ring-blue-500',
    stable: 'ring-2 ring-gray-300',
  };
  
  // ì• ë‹ˆë©”ì´ì…˜ ì„¤ì •
  const pulseAnimation = trend !== 'stable' && animated ? {
    scale: [1, 1.1, 1],
    transition: {
      duration: 2,
      repeat: Infinity,
      ease: 'easeInOut',
    },
  } : {};

  return (
    <motion.div
      className={`
        ${sizes[size]}
        ${ringColors[trend]}
        rounded-full
        flex items-center justify-center
        bg-white
        shadow-md
      `}
      animate={pulseAnimation}
    >
      <span className="leading-none">{config.emoji}</span>
    </motion.div>
  );
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<WeatherIcon type="solar" trend="rising" size="md" />
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/weather/WeatherIcon.tsx` íŒŒì¼ ìƒì„±
- [ ] 3ê°€ì§€ í¬ê¸° (sm, md, lg) ì§€ì›
- [ ] ìƒíƒœë³„ ë§ ìƒ‰ìƒ (ë¹¨ê°•/íŒŒë‘/íšŒìƒ‰)
- [ ] í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ (rising/falling ì‹œ)
- [ ] ë‘¥ê·¼ ë°°ê²½ (ì›í˜•)

---

### âœ… 5.2 TrendIndicator ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: ê°€ê²© ë³€í™”ë¥¼ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/design-guide.md` 145-214ì¤„ (ìƒíƒœ ìƒ‰ìƒ)
- `docs/architecture.md` 136ì¤„ (TrendIndicator ì–¸ê¸‰)

**ì‘ì—… ë‚´ìš©**:

**`src/components/weather/TrendIndicator.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * TrendIndicator ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/design-guide.md 145-214ì¤„
 */

'use client';

import { motion } from 'motion/react';
import { formatNumber, formatPercent } from '@/lib/utils';
import type { WeatherTrend } from '@/types';

interface TrendIndicatorProps {
  change: number;           // ë³€í™”ëŸ‰ (ì ˆëŒ€ê°’)
  changePercent: number;    // ë³€í™”ìœ¨ (%)
  trend: WeatherTrend;
}

export function TrendIndicator({
  change,
  changePercent,
  trend,
}: TrendIndicatorProps) {
  // ìƒíƒœë³„ ì„¤ì •
  const trendConfig = {
    rising: {
      color: 'text-red-600',
      bgColor: 'bg-red-50',
      emoji: 'ğŸ”¥',
      arrow: 'â†—',
    },
    falling: {
      color: 'text-blue-600',
      bgColor: 'bg-blue-50',
      emoji: 'â„ï¸',
      arrow: 'â†˜',
    },
    stable: {
      color: 'text-gray-600',
      bgColor: 'bg-gray-50',
      emoji: 'âšª',
      arrow: 'â†’',
    },
  };
  
  const config = trendConfig[trend];
  const sign = change >= 0 ? '+' : '';

  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.8 }}
      animate={{ opacity: 1, scale: 1 }}
      className={`inline-flex items-center gap-1 px-2 py-1 rounded-lg ${config.bgColor}`}
    >
      <span>{config.emoji}</span>
      <span className={`${config.color} font-semibold text-sm`}>
        {config.arrow} {sign}{formatNumber(Math.abs(change))} ({formatPercent(changePercent)})
      </span>
    </motion.div>
  );
}
```

**í‘œì‹œ ì˜ˆì‹œ**:
- **ìƒìŠ¹**: ğŸ”¥ â†— +100 (+8.5%)
- **í•˜ë½**: â„ï¸ â†˜ -50 (-4.2%)
- **ì•ˆì •**: âšª â†’ 0 (0.0%)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/weather/TrendIndicator.tsx` íŒŒì¼ ìƒì„±
- [ ] ìƒìŠ¹/í•˜ë½/ì•ˆì • 3ê°€ì§€ ìƒíƒœ í‘œì‹œ
- [ ] ì´ëª¨ì§€ + í™”ì‚´í‘œ + ë³€í™”ëŸ‰ + ë³€í™”ìœ¨
- [ ] ìƒ‰ìƒ ë°°ê²½ (ë¹¨ê°•/íŒŒë‘/íšŒìƒ‰)
- [ ] ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜

---

### âœ… 5.3 WeatherCard ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: í™ˆ í™”ë©´ì˜ ë‚ ì”¨ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 866-935ì¤„ (WeatherCard ì„¤ê³„)
- `docs/wireframes.md` 687-730ì¤„ (ë³´ìœ  ë‚ ì”¨ ì¹´ë“œ)
- `docs/design-guide.md` 1620-1628ì¤„ (ì¹´ë“œ í˜¸ë²„)

**ì‘ì—… ë‚´ìš©**:

**`src/components/weather/WeatherCard.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * WeatherCard ì»´í¬ë„ŒíŠ¸
 * ì°¸ê³ : docs/architecture.md 866-935ì¤„
 */

'use client';

import { motion } from 'motion/react';
import { WeatherIcon } from './WeatherIcon';
import { TrendIndicator } from './TrendIndicator';
import { formatEnergy } from '@/lib/utils';
import type { WeatherData } from '@/types';
import { TREND_COLORS } from '@/constants/config';

interface WeatherCardProps {
  weather: WeatherData;
  onClick: () => void;
}

export function WeatherCard({ weather, onClick }: WeatherCardProps) {
  const trendConfig = TREND_COLORS[weather.trend];

  return (
    <motion.div
      whileHover={{ scale: 1.05 }}
      whileTap={{ scale: 0.95 }}
      onClick={onClick}
      className={`
        ${trendConfig.bg}
        rounded-3xl p-6
        shadow-md hover:shadow-lg
        transition-shadow duration-200
        cursor-pointer
      `}
    >
      {/* í—¤ë”: ì´ë¦„ + ìƒíƒœ ì´ëª¨ì§€ */}
      <div className="flex items-center justify-between mb-4">
        <div className="flex items-center gap-2">
          <WeatherIcon type={weather.type} trend={weather.trend} size="sm" animated={false} />
          <h3 className="text-lg font-semibold">{weather.name}</h3>
        </div>
        <span className="text-2xl">{trendConfig.emoji}</span>
      </div>

      {/* ê°€ê²© */}
      <div className="mb-3">
        <p className="text-2xl font-bold">
          {formatEnergy(weather.price)}
        </p>
        <TrendIndicator
          change={weather.change}
          changePercent={weather.changePercent}
          trend={weather.trend}
        />
      </div>

      {/* ë¯¸ë‹ˆ ìŠ¤íŒŒí¬ë¼ì¸ (ê°„ë‹¨í•œ ë²„ì „) */}
      <div className="h-8 flex items-end gap-0.5">
        {weather.history.slice(-8).map((h, i) => {
          const maxPrice = Math.max(...weather.history.slice(-8).map(h => h.price));
          const minPrice = Math.min(...weather.history.slice(-8).map(h => h.price));
          const range = maxPrice - minPrice || 1;
          const height = ((h.price - minPrice) / range) * 100;
          
          return (
            <div
              key={i}
              className="flex-1 bg-gray-300 rounded-t"
              style={{ height: `${Math.max(height, 10)}%` }}
            />
          );
        })}
      </div>
    </motion.div>
  );
}
```

**ì¹´ë“œ êµ¬ì„±**:
1. **í—¤ë”**: ë‚ ì”¨ ì•„ì´ì½˜ + ì´ë¦„ + ìƒíƒœ ì´ëª¨ì§€
2. **ê°€ê²©**: í° ìˆ«ì + ë³€í™” í‘œì‹œ
3. **ë¯¸ë‹ˆ ê·¸ë˜í”„**: ìµœê·¼ 8ê°œ ê°€ê²© ì  (ë§‰ëŒ€ ê·¸ë˜í”„)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/weather/WeatherCard.tsx` íŒŒì¼ ìƒì„±
- [ ] ìƒíƒœë³„ ë°°ê²½ìƒ‰ ì ìš©
- [ ] í˜¸ë²„ ì‹œ í™•ëŒ€ ì• ë‹ˆë©”ì´ì…˜
- [ ] íƒ­ ì‹œ ì¶•ì†Œ ì• ë‹ˆë©”ì´ì…˜
- [ ] ë¯¸ë‹ˆ ìŠ¤íŒŒí¬ë¼ì¸ í‘œì‹œ (ìµœê·¼ 8ê°œ)

---

### âœ… 5.4 WeatherChart ì»´í¬ë„ŒíŠ¸

**ëª©í‘œ**: 24ì‹œê°„ ê°€ê²© ê·¸ë˜í”„ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 939-1009ì¤„ (WeatherChart ì„¤ê³„)
- `docs/wireframes.md` 580-614ì¤„ (ê·¸ë˜í”„ ìƒíƒœë³„)

**ì‘ì—… ë‚´ìš©**:

**`src/components/weather/WeatherChart.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * WeatherChart ì»´í¬ë„ŒíŠ¸
 * 24ì‹œê°„ ì˜ì—­ ì°¨íŠ¸
 * ì°¸ê³ : docs/architecture.md 939-1009ì¤„
 */

'use client';

import { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';
import { format } from 'date-fns';
import type { PriceHistory, WeatherTrend } from '@/types';

interface WeatherChartProps {
  history: PriceHistory[];
  trend: WeatherTrend;
}

export function WeatherChart({ history, trend }: WeatherChartProps) {
  // ìƒíƒœë³„ ìƒ‰ìƒ
  const colors = {
    rising: { stroke: '#FF6B6B', fill: '#FFE9E9', gradient1: '#FF6B6B', gradient2: '#FFE9E9' },
    falling: { stroke: '#74C0FC', fill: '#E7F5FF', gradient1: '#74C0FC', gradient2: '#E7F5FF' },
    stable: { stroke: '#ADB5BD', fill: '#F1F3F5', gradient1: '#ADB5BD', gradient2: '#F1F3F5' },
  };

  const color = colors[trend];

  // ë°ì´í„° í¬ë§· (ìµœê·¼ 24ê°œ í¬ì¸íŠ¸)
  const data = history.slice(-24).map(h => ({
    time: format(new Date(h.timestamp), 'HH:mm'),
    price: h.price,
  }));

  return (
    <div className="w-full h-64 bg-white rounded-2xl p-4">
      <ResponsiveContainer width="100%" height="100%">
        <AreaChart data={data}>
          <defs>
            <linearGradient id={`color-${trend}`} x1="0" y1="0" x2="0" y2="1">
              <stop offset="5%" stopColor={color.gradient1} stopOpacity={0.8}/>
              <stop offset="95%" stopColor={color.gradient1} stopOpacity={0}/>
            </linearGradient>
          </defs>
          <XAxis 
            dataKey="time" 
            tick={{ fontSize: 12, fill: '#6C757D' }}
            interval="preserveStartEnd"
          />
          <YAxis 
            tick={{ fontSize: 12, fill: '#6C757D' }}
            domain={['dataMin - 100', 'dataMax + 100']}
          />
          <Tooltip 
            contentStyle={{
              backgroundColor: 'white',
              border: 'none',
              borderRadius: '8px',
              boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',
            }}
            labelStyle={{ color: '#2C3E50', fontWeight: 'bold' }}
            itemStyle={{ color: color.stroke }}
          />
          <Area
            type="monotone"
            dataKey="price"
            stroke={color.stroke}
            strokeWidth={3}
            fillOpacity={1}
            fill={`url(#color-${trend})`}
          />
        </AreaChart>
      </ResponsiveContainer>
    </div>
  );
}
```

**ê·¸ë˜í”„ ì„¤ëª…**:
- **Area Chart**: ì˜ì—­ì´ ì±„ì›Œì§„ ë¼ì¸ ì°¨íŠ¸
- **Gradient**: ìœ„ì—ì„œ ì•„ë˜ë¡œ íˆ¬ëª…ë„ ë³€í™”
- **ìƒíƒœë³„ ìƒ‰ìƒ**: ìƒìŠ¹(ë¹¨ê°•), í•˜ë½(íŒŒë‘), ì•ˆì •(íšŒìƒ‰)
- **ìµœê·¼ 24ê°œ**: ì•½ 2ì‹œê°„ ë¶„ëŸ‰ (3ë¶„ Ã— 24 = 72ë¶„)

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/components/weather/WeatherChart.tsx` íŒŒì¼ ìƒì„±
- [ ] Recharts AreaChart ì‚¬ìš©
- [ ] ìƒíƒœë³„ ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒ
- [ ] Xì¶• ì‹œê°„ í‘œì‹œ (HH:mm)
- [ ] Yì¶• ê°€ê²© í‘œì‹œ
- [ ] Tooltip (í˜¸ë²„ ì‹œ ìƒì„¸ ì •ë³´)

---

## ğŸ¯ Phase 6: í˜ì´ì§€ ê°œë°œ (ì˜ˆìƒ ì‹œê°„: 3-4ì‹œê°„)

### âœ… 6.1 ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ ì„¤ì •

**ëª©í‘œ**: ì•± ì „ì²´ ë ˆì´ì•„ì›ƒ ë° í°íŠ¸ ì„¤ì •

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1277-1307ì¤„ (ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ)
- `docs/design-guide.md` 315-350ì¤„ (Pretendard í°íŠ¸)

**ì‘ì—… ë‚´ìš©**:

**`src/app/layout.tsx` íŒŒì¼ ìˆ˜ì •**:

```typescript
/**
 * ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
 * ì°¸ê³ : docs/architecture.md 1277-1307ì¤„
 */

import type { Metadata } from 'next';
import localFont from 'next/font/local';
import './globals.css';

// Pretendard í°íŠ¸ ì„¤ì •
const pretendard = localFont({
  src: '../../public/fonts/Pretendard-Variable.woff2',
  variable: '--font-pretendard',
  weight: '100 900',
  display: 'swap',
});

export const metadata: Metadata = {
  title: 'ë‚ ì”¨ ì—ë„ˆì§€ - ë‚ ì”¨ë¡œ ë°°ìš°ëŠ” ê²½ì œ',
  description: 'ì´ˆë“±í•™ìƒì„ ìœ„í•œ ë‚ ì”¨ ê¸°ë°˜ ê²½ì œ êµìœ¡ ì•±. 4ê°€ì§€ ë‚ ì”¨ë¥¼ ì‚¬ê³  íŒ”ë©´ì„œ ê²½ì œ ê°œë…ì„ ë°°ì›Œìš”!',
  viewport: 'width=device-width, initial-scale=1, maximum-scale=1',
  themeColor: '#FFFCF7',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ko" className={pretendard.variable}>
      <body className="font-sans antialiased bg-[#FFFCF7] min-h-screen">
        {children}
      </body>
    </html>
  );
}
```

**ë©”íƒ€ë°ì´í„° ì„¤ëª…**:
- **title**: ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë˜ëŠ” ì œëª©
- **description**: SEO ë° ê³µìœ  ì‹œ ì„¤ëª…
- **viewport**: ëª¨ë°”ì¼ ìµœì í™”
- **themeColor**: ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € ìƒë‹¨ë°” ìƒ‰ìƒ

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/layout.tsx` íŒŒì¼ ìˆ˜ì •
- [ ] Pretendard í°íŠ¸ ê²½ë¡œ í™•ì¸
- [ ] ë©”íƒ€ë°ì´í„° ì„¤ì •
- [ ] ë°°ê²½ìƒ‰ #FFFCF7 ì ìš©
- [ ] lang="ko" ì„¤ì •

---

### âœ… 6.2 ì˜¨ë³´ë”© í˜ì´ì§€

**ëª©í‘œ**: ì²« ì‹œì‘ í™”ë©´ ë§Œë“¤ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 79-105ì¤„ (ì›°ì»´ í™”ë©´)
- `docs/wireframes.md` 107-156ì¤„ (ë™ë„¤ ì„¤ì •)

**ì‘ì—… ë‚´ìš©**:

**`src/app/page.tsx` íŒŒì¼ ìˆ˜ì •** (ì˜¨ë³´ë”© í˜ì´ì§€):

```typescript
/**
 * ì˜¨ë³´ë”© í˜ì´ì§€
 * ì°¸ê³ : docs/wireframes.md 79-105ì¤„
 */

'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { motion } from 'motion/react';
import { Button } from '@/components/ui/Button';
import { Input } from '@/components/ui/Input';
import { saveSettings } from '@/lib/storage';

export default function OnboardingPage() {
  const router = useRouter();
  const [step, setStep] = useState(1); // 1: ì›°ì»´, 2: ë™ë„¤ ì„¤ì •, 3: ì´ˆê¸° ì—ë„ˆì§€
  const [location, setLocation] = useState('');

  const handleStart = () => {
    setStep(2);
  };

  const handleSkipLocation = () => {
    setStep(3);
  };

  const handleSetLocation = () => {
    if (location.trim()) {
      saveSettings({
        location: location.trim(),
        notificationsEnabled: true,
        soundEnabled: true,
        theme: 'light',
      });
    }
    setStep(3);
  };

  const handleFinish = () => {
    router.push('/home');
  };

  // 1ë‹¨ê³„: ì›°ì»´ í™”ë©´
  if (step === 1) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center p-6">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center max-w-md"
        >
          <h1 className="text-4xl font-bold mb-4">ğŸŒ¤ï¸ ë‚ ì”¨ ì—ë„ˆì§€</h1>
          <p className="text-xl mb-2">ë‚ ì”¨ë¥¼ ì‚¬ê³  íŒ”ë©´ì„œ</p>
          <p className="text-xl mb-8">ê²½ì œë¥¼ ë°°ì›Œìš”!</p>
          
          <div className="flex justify-center gap-4 text-5xl mb-8">
            <span>â˜€ï¸</span>
            <span>ğŸ’¨</span>
            <span>ğŸ’§</span>
            <span>ğŸŒ¡ï¸</span>
          </div>
          
          <p className="text-gray-600 mb-2">3ë¶„ë§ˆë‹¤ ê°€ê²©ì´ ë°”ë€Œì–´ìš”</p>
          <p className="text-gray-600 mb-8">ê³„ì ˆì— ë§ëŠ” ë‚ ì”¨ë¡œ ê²Œì„í•´ìš”</p>
          
          <Button onClick={handleStart} variant="primary" className="w-full">
            ì‹œì‘í•˜ê¸° â†’
          </Button>
        </motion.div>
      </div>
    );
  }

  // 2ë‹¨ê³„: ë™ë„¤ ì„¤ì •
  if (step === 2) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center p-6">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="w-full max-w-md"
        >
          <p className="text-sm text-gray-600 mb-6 text-right">1/3</p>
          
          <div className="text-center mb-8">
            <div className="text-6xl mb-4">ğŸ“</div>
            <h2 className="text-2xl font-bold mb-4">ì–´ë”” ì‚¬ë‹ˆ? (ì„ íƒ)</h2>
            <p className="text-gray-600 mb-2">ë™ë„¤ ì´ë¦„ì„ ì•Œë ¤ì£¼ë©´</p>
            <p className="text-gray-600 mb-1">ë” ì¬ë¯¸ìˆì–´ìš”!</p>
            <p className="text-sm text-gray-500">(ì‹¤ì œ ë‚ ì”¨ë‘ì€ ìƒê´€ì—†ì–´ìš”)</p>
          </div>
          
          <Input
            type="text"
            value={location}
            onChange={setLocation}
            placeholder="ì˜ˆ: ì„œìš¸, ë¶€ì‚°, ì œì£¼"
            className="mb-4"
          />
          
          <div className="space-y-3">
            <Button onClick={handleSkipLocation} variant="secondary" className="w-full">
              ë‹¤ìŒì— í•˜ê¸°
            </Button>
            <Button onClick={handleSetLocation} variant="primary" className="w-full">
              í™•ì¸ â†’
            </Button>
          </div>
        </motion.div>
      </div>
    );
  }

  // 3ë‹¨ê³„: ì´ˆê¸° ì—ë„ˆì§€
  if (step === 3) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center p-6">
        <motion.div
          initial={{ opacity: 0, scale: 0.8 }}
          animate={{ opacity: 1, scale: 1 }}
          className="text-center max-w-md"
        >
          <p className="text-sm text-gray-600 mb-6 text-right">2/3</p>
          
          <div className="text-6xl mb-4">ğŸ’°</div>
          <h2 className="text-2xl font-bold mb-4">ì²˜ìŒ ì£¼ëŠ” ëˆ</h2>
          
          <motion.p
            initial={{ scale: 1 }}
            animate={{ scale: [1, 1.1, 1] }}
            transition={{ duration: 0.5, delay: 0.3 }}
            className="text-4xl font-bold mb-8"
          >
            10,000 ì—ë„ˆì§€
          </motion.p>
          
          <p className="text-gray-600 mb-2">ì´ ëˆìœ¼ë¡œ ë‚ ì”¨ë¥¼ ì‚¬ê³  íŒ”ì•„ìš”</p>
          <p className="text-gray-600 mb-8">ë§ì´ ë²Œì–´ë³´ì„¸ìš”!</p>
          
          <Button onClick={handleFinish} variant="primary" className="w-full">
            ì¢‹ì•„ìš”! â†’
          </Button>
        </motion.div>
      </div>
    );
  }

  return null;
}
```

**ì˜¨ë³´ë”© í”Œë¡œìš°**:
1. **ì›°ì»´ í™”ë©´**: ì•± ì†Œê°œ + ì‹œì‘ ë²„íŠ¼
2. **ë™ë„¤ ì„¤ì •**: ì„ íƒ ì‚¬í•­ (ê±´ë„ˆë›°ê¸° ê°€ëŠ¥)
3. **ì´ˆê¸° ì—ë„ˆì§€**: 10,000 ì—ë„ˆì§€ ë°›ê¸° + ê²Œì„ ì‹œì‘

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/page.tsx` íŒŒì¼ ìˆ˜ì •
- [ ] 3ë‹¨ê³„ ì˜¨ë³´ë”© í”Œë¡œìš° êµ¬í˜„
- [ ] ê° ë‹¨ê³„ë³„ ì• ë‹ˆë©”ì´ì…˜
- [ ] ë™ë„¤ ì„¤ì • ì €ì¥ (localStorage)
- [ ] í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™ (/home)

---

### âœ… 6.3 ë©”ì¸ í™ˆ í˜ì´ì§€

**ëª©í‘œ**: ì›í˜• ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë‚ ì”¨ë¥¼ í‘œì‹œí•˜ëŠ” ë©”ì¸ í™”ë©´

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1310-1408ì¤„ (ë©”ì¸ í™ˆ í˜ì´ì§€)
- `docs/wireframes.md` 239-403ì¤„ (ë©”ì¸ í™ˆ í™”ë©´)

**ì‘ì—… ë‚´ìš©**:

**`src/app/home/page.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * ë©”ì¸ í™ˆ í˜ì´ì§€
 * ì°¸ê³ : docs/architecture.md 1310-1408ì¤„
 */

'use client';

import { useState } from 'react';
import { motion } from 'motion/react';
import { useWeatherPrices } from '@/hooks/useWeatherPrices';
import { usePortfolio } from '@/hooks/usePortfolio';
import { WeatherIcon } from '@/components/weather/WeatherIcon';
import { formatEnergy, formatPercent, getCurrentSeason, getSeasonEmoji } from '@/lib/utils';
import { Button } from '@/components/ui/Button';
import Link from 'next/link';

export default function HomePage() {
  const { weatherData, isLoading, lastUpdate } = useWeatherPrices();
  const { totalValue, profitLoss, profitLossPercent } = usePortfolio(weatherData);

  if (isLoading || weatherData.length === 0) {
    return (
      <div className="flex items-center justify-center min-h-screen">
        <div className="text-center">
          <motion.div
            animate={{ rotate: 360 }}
            transition={{ duration: 2, repeat: Infinity, ease: 'linear' }}
            className="text-6xl mb-4"
          >
            ğŸŒ¤ï¸
          </motion.div>
          <p className="text-xl text-gray-600">ë¡œë”© ì¤‘...</p>
        </div>
      </div>
    );
  }

  const isProfitable = profitLoss >= 0;
  const season = getCurrentSeason();
  const seasonEmoji = getSeasonEmoji();

  return (
    <main className="min-h-screen pb-20">
      {/* í—¤ë” */}
      <header className="p-6 flex items-center justify-between">
        <h1 className="text-2xl font-bold">ğŸŒ¤ï¸ ë‚ ì”¨ ì—ë„ˆì§€</h1>
        <Link href="/settings">
          <button className="text-2xl">âš™ï¸</button>
        </Link>
      </header>

      {/* ì›í˜• ë ˆì´ì•„ì›ƒ */}
      <div className="relative w-full h-96 flex items-center justify-center mb-8">
        {/* ì¤‘ì•™: ì´ ì—ë„ˆì§€ í‘œì‹œ */}
        <motion.div
          initial={{ scale: 0 }}
          animate={{ scale: 1 }}
          transition={{ type: 'spring', stiffness: 200 }}
          className="absolute z-10 text-center"
        >
          <p className="text-4xl font-bold mb-2">
            ğŸ’ {formatEnergy(totalValue)}
          </p>
          <p className="text-sm text-gray-600 mb-1">ë‚´ ì—ë„ˆì§€</p>
          <motion.div
            animate={isProfitable ? {
              scale: [1, 1.1, 1],
            } : {}}
            transition={{ duration: 2, repeat: Infinity }}
          >
            <p className={`text-lg font-semibold ${
              isProfitable ? 'text-green-600' : 'text-red-600'
            }`}>
              {isProfitable ? 'ğŸŸ¢' : 'ğŸ”´'} {profitLoss >= 0 ? '+' : ''}{formatEnergy(profitLoss)}
              <span className="text-sm ml-1">
                ({formatPercent(profitLossPercent)})
              </span>
            </p>
          </motion.div>
        </motion.div>

        {/* ì›í˜• ë°°ì¹˜: 4ê°€ì§€ ë‚ ì”¨ ì•„ì´ì½˜ */}
        {weatherData.map((weather, index) => {
          // 12ì‹œ ë°©í–¥ë¶€í„° ì‹œê³„ë°©í–¥ìœ¼ë¡œ 90ë„ì”© ë°°ì¹˜
          const angle = (index * 90 - 90) * (Math.PI / 180);
          const radius = 140;
          const x = Math.cos(angle) * radius;
          const y = Math.sin(angle) * radius;

          return (
            <motion.div
              key={weather.type}
              initial={{ opacity: 0, scale: 0 }}
              animate={{ opacity: 1, scale: 1 }}
              transition={{ delay: index * 0.1 }}
              className="absolute top-1/2 left-1/2"
              style={{
                transform: `translate(calc(-50% + ${x}px), calc(-50% + ${y}px))`,
              }}
            >
              <Link href={`/weather/${weather.type}`}>
                <motion.button
                  whileHover={{ scale: 1.1 }}
                  whileTap={{ scale: 0.9 }}
                  className="focus:outline-none"
                >
                  <WeatherIcon
                    type={weather.type}
                    trend={weather.trend}
                    size="lg"
                    animated={true}
                  />
                </motion.button>
              </Link>
            </motion.div>
          );
        })}
      </div>

      {/* ê³„ì ˆ ì •ë³´ */}
      <section className="px-6 mb-6">
        <div className="bg-white rounded-2xl p-4 shadow-md">
          <p className="text-center text-gray-700">
            {seasonEmoji} <span className="font-semibold">{new Date().getMonth() + 1}ì›” {season}</span>
            <span className="mx-2">â€¢</span>
            <span className="text-sm">3ë¶„ë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸</span>
          </p>
          <p className="text-center text-sm text-gray-500 mt-1">
            ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: {new Date(lastUpdate).toLocaleTimeString('ko-KR')}
          </p>
        </div>
      </section>

      {/* ë‚´ ë³´ê´€í•¨ ë²„íŠ¼ */}
      <section className="px-6">
        <Link href="/portfolio">
          <Button variant="primary" className="w-full">
            ë‚´ ë³´ê´€í•¨ ë³´ê¸° â†’
          </Button>
        </Link>
      </section>
    </main>
  );
}
```

**í™”ë©´ êµ¬ì„±**:
1. **í—¤ë”**: ì•± ì´ë¦„ + ì„¤ì • ë²„íŠ¼
2. **ì›í˜• ë ˆì´ì•„ì›ƒ**: 
   - ì¤‘ì•™: ì´ ì—ë„ˆì§€ + ì†ìµ
   - ì› ìœ„: 4ê°€ì§€ ë‚ ì”¨ ì•„ì´ì½˜ (90ë„ ê°„ê²©)
3. **ê³„ì ˆ ì •ë³´**: í˜„ì¬ ì›”/ê³„ì ˆ + ì—…ë°ì´íŠ¸ ì‹œê°„
4. **ë‚´ ë³´ê´€í•¨ ë²„íŠ¼**: í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì´ë™

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/home/page.tsx` íŒŒì¼ ìƒì„±
- [ ] ì›í˜• ë ˆì´ì•„ì›ƒ êµ¬í˜„ (ì‚¼ê°í•¨ìˆ˜)
- [ ] ì¤‘ì•™ ì—ë„ˆì§€ í‘œì‹œ
- [ ] 4ê°œ ë‚ ì”¨ ì•„ì´ì½˜ ë°°ì¹˜
- [ ] ë¡œë”© ìƒíƒœ ì²˜ë¦¬
- [ ] ê³„ì ˆ ì •ë³´ í‘œì‹œ

---

### âœ… 6.4 ë‚ ì”¨ ìƒì„¸ í˜ì´ì§€

**ëª©í‘œ**: íŠ¹ì • ë‚ ì”¨ì˜ ìƒì„¸ ì •ë³´ ë° ê±°ë˜ í™”ë©´

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 468-663ì¤„ (ë‚ ì”¨ ìƒì„¸ í™”ë©´)
- `docs/architecture.md` 1011-1186ì¤„ (TradingModal)

**ì‘ì—… ë‚´ìš©**:

**`src/app/weather/[type]/page.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * ë‚ ì”¨ ìƒì„¸ í˜ì´ì§€
 * ì°¸ê³ : docs/wireframes.md 468-663ì¤„
 */

'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { motion } from 'motion/react';
import { useWeatherPrices } from '@/hooks/useWeatherPrices';
import { usePortfolio } from '@/hooks/usePortfolio';
import { WeatherChart } from '@/components/weather/WeatherChart';
import { WeatherIcon } from '@/components/weather/WeatherIcon';
import { TrendIndicator } from '@/components/weather/TrendIndicator';
import { Button } from '@/components/ui/Button';
import { Input } from '@/components/ui/Input';
import { Slider } from '@/components/ui/Slider';
import { formatEnergy, getCurrentSeason } from '@/lib/utils';
import { WEATHER_CONFIGS, TREND_COLORS } from '@/constants/config';
import type { WeatherType } from '@/types';

export default function WeatherDetailPage({ params }: { params: { type: WeatherType } }) {
  const router = useRouter();
  const { weatherData } = useWeatherPrices();
  const { portfolio, executeTrade, getHolding, getMaxBuyQuantity, getMaxSellQuantity } = usePortfolio(weatherData);
  
  const weather = weatherData.find(w => w.type === params.type);
  const holding = getHolding(params.type);
  
  const [action, setAction] = useState<'buy' | 'sell'>('buy');
  const [quantity, setQuantity] = useState(1);
  const [isProcessing, setIsProcessing] = useState(false);

  if (!weather) {
    return <div className="p-6">ë‚ ì”¨ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>;
  }

  const config = WEATHER_CONFIGS[weather.type];
  const trendConfig = TREND_COLORS[weather.trend];
  const maxBuy = getMaxBuyQuantity(weather.type);
  const maxSell = getMaxSellQuantity(weather.type);
  const maxQuantity = action === 'buy' ? maxBuy : maxSell;

  const totalAmount = quantity * weather.price;
  const remainingEnergy = action === 'buy'
    ? portfolio.energy - totalAmount
    : portfolio.energy + totalAmount;

  const handleTrade = async () => {
    if (maxQuantity === 0) return;
    
    setIsProcessing(true);
    try {
      await executeTrade(action, weather.type, quantity);
      router.push('/home');
    } catch (error) {
      alert(error instanceof Error ? error.message : 'ê±°ë˜ ì‹¤íŒ¨');
      setIsProcessing(false);
    }
  };

  return (
    <main className="min-h-screen pb-6">
      {/* í—¤ë” */}
      <header className="p-6 flex items-center justify-between">
        <button onClick={() => router.back()} className="text-2xl">â†</button>
        <h1 className="text-xl font-bold">{config.name}</h1>
        <div className="w-6" />
      </header>

      {/* ê°€ê²© ì •ë³´ */}
      <section className="px-6 mb-6 text-center">
        <WeatherIcon type={weather.type} trend={weather.trend} size="lg" />
        <p className="text-3xl font-bold mt-4 mb-2">
          {formatEnergy(weather.price)}
        </p>
        <TrendIndicator
          change={weather.change}
          changePercent={weather.changePercent}
          trend={weather.trend}
        />
      </section>

      {/* 24ì‹œê°„ ì°¨íŠ¸ */}
      <section className="px-6 mb-6">
        <WeatherChart history={weather.history} trend={weather.trend} />
        <div className="text-center mt-4">
          <p className="text-2xl mb-2">{trendConfig.emoji}</p>
          <p className="font-semibold">{trendConfig.text}</p>
        </div>
      </section>

      {/* ê³„ì ˆ íŒíŠ¸ */}
      <section className="px-6 mb-6">
        <div className="bg-blue-50 rounded-2xl p-4">
          <p className="text-sm font-semibold mb-1">ğŸ’¡ ì§€ê¸ˆ ê³„ì ˆ</p>
          <p className="text-sm text-gray-700">
            {getCurrentSeason()} - ì´ ì‹œê¸°ì— {config.name}ëŠ” ì–´ë–»ê²Œ ë³€í• ê¹Œìš”?
          </p>
        </div>
      </section>

      {/* ê±°ë˜ ì¸í„°í˜ì´ìŠ¤ */}
      <section className="px-6">
        <div className="bg-white rounded-3xl p-6 shadow-md">
          {/* ì‚¬ê¸°/íŒ”ê¸° íƒ­ */}
          <div className="flex gap-2 mb-6">
            <button
              onClick={() => { setAction('buy'); setQuantity(1); }}
              className={`flex-1 py-3 rounded-xl font-semibold transition ${
                action === 'buy'
                  ? 'bg-blue-500 text-white'
                  : 'bg-gray-100 text-gray-600'
              }`}
            >
              ì‚¬ê¸°
            </button>
            <button
              onClick={() => { setAction('sell'); setQuantity(1); }}
              disabled={maxSell === 0}
              className={`flex-1 py-3 rounded-xl font-semibold transition ${
                action === 'sell'
                  ? 'bg-red-500 text-white'
                  : 'bg-gray-100 text-gray-600'
              } disabled:opacity-50`}
            >
              íŒ”ê¸° {holding && `(${holding.quantity}ê°œ)`}
            </button>
          </div>

          {/* ë³´ìœ  ì •ë³´ (íŒ”ê¸° ëª¨ë“œ) */}
          {action === 'sell' && holding && (
            <div className="mb-4 p-3 bg-gray-50 rounded-xl">
              <p className="text-sm text-gray-600">ê°€ì§€ê³  ìˆëŠ” ê²ƒ: {holding.quantity}ê°œ</p>
              <p className="text-sm text-gray-600">í‰ê·  ë§¤ìˆ˜ê°€: {formatEnergy(holding.avgBuyPrice)}</p>
            </div>
          )}

          {/* ìˆ˜ëŸ‰ ì„ íƒ */}
          <div className="mb-6">
            <div className="flex items-center justify-between mb-2">
              <label className="text-sm font-medium">ìˆ˜ëŸ‰</label>
              <span className="text-sm text-gray-600">
                ìµœëŒ€: {maxQuantity}ê°œ
              </span>
            </div>
            <Slider
              value={quantity}
              onChange={setQuantity}
              min={1}
              max={Math.max(maxQuantity, 1)}
              disabled={maxQuantity === 0}
            />
            <p className="text-center text-2xl font-bold mt-2">{quantity}ê°œ</p>
          </div>

          {/* ì˜ˆìƒ ê²°ê³¼ */}
          <div className="mb-6 p-4 bg-blue-50 rounded-xl space-y-2">
            <div className="flex justify-between">
              <span className="text-sm">ì´ ê¸ˆì•¡</span>
              <span className="font-semibold">{formatEnergy(totalAmount)}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-sm">ë‚¨ì€ ì—ë„ˆì§€</span>
              <span className="font-semibold">{formatEnergy(remainingEnergy)}</span>
            </div>
            {action === 'sell' && holding && (
              <div className="flex justify-between">
                <span className="text-sm">ì˜ˆìƒ ì†ìµ</span>
                <span className={`font-semibold ${
                  (weather.price - holding.avgBuyPrice) > 0
                    ? 'text-green-600'
                    : 'text-red-600'
                }`}>
                  {formatEnergy((weather.price - holding.avgBuyPrice) * quantity)}
                </span>
              </div>
            )}
          </div>

          {/* í™•ì¸ ë²„íŠ¼ */}
          <Button
            onClick={handleTrade}
            disabled={maxQuantity === 0 || isProcessing}
            variant={action === 'buy' ? 'primary' : 'danger'}
            className="w-full"
          >
            {isProcessing ? 'ì²˜ë¦¬ ì¤‘...' : 
             action === 'buy' ? 'í™•ì¸! ì‚¬ê¸° â†’' : 'í™•ì¸! íŒ”ê¸° â†’'}
          </Button>
        </div>
      </section>
    </main>
  );
}
```

**í˜ì´ì§€ êµ¬ì„±**:
1. **í—¤ë”**: ë’¤ë¡œ ê°€ê¸° + ë‚ ì”¨ ì´ë¦„
2. **ê°€ê²© ì •ë³´**: ì•„ì´ì½˜ + ê°€ê²© + ë³€í™” í‘œì‹œ
3. **24ì‹œê°„ ì°¨íŠ¸**: ì˜ì—­ ê·¸ë˜í”„
4. **ê³„ì ˆ íŒíŠ¸**: í˜„ì¬ ê³„ì ˆ ì •ë³´
5. **ê±°ë˜ ì¸í„°í˜ì´ìŠ¤**: ì‚¬ê¸°/íŒ”ê¸° íƒ­ + ìˆ˜ëŸ‰ ì„ íƒ + í™•ì¸

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/weather/[type]/page.tsx` íŒŒì¼ ìƒì„±
- [ ] ë™ì  ë¼ìš°íŒ… [type] ì²˜ë¦¬
- [ ] WeatherChart ì—°ë™
- [ ] ì‚¬ê¸°/íŒ”ê¸° íƒ­ ì „í™˜
- [ ] ìˆ˜ëŸ‰ ìŠ¬ë¼ì´ë”
- [ ] ê±°ë˜ ì‹¤í–‰ ë° ì—ëŸ¬ ì²˜ë¦¬
- [ ] ê±°ë˜ í›„ í™ˆìœ¼ë¡œ ì´ë™

---

### âœ… 6.5 ë‚´ ë³´ê´€í•¨ í˜ì´ì§€

**ëª©í‘œ**: í¬íŠ¸í´ë¦¬ì˜¤ ë° ê±°ë˜ ë‚´ì—­ì„ ë³´ëŠ” í™”ë©´

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 669-831ì¤„ (ë‚´ ë³´ê´€í•¨ í™”ë©´)
- `docs/architecture.md` 139-141ì¤„ (í¬íŠ¸í´ë¦¬ì˜¤ ì»´í¬ë„ŒíŠ¸)

**ì‘ì—… ë‚´ìš©**:

**`src/app/portfolio/page.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * ë‚´ ë³´ê´€í•¨ í˜ì´ì§€
 * ì°¸ê³ : docs/wireframes.md 669-831ì¤„
 */

'use client';

import { useRouter } from 'next/navigation';
import Link from 'next/link';
import { motion } from 'motion/react';
import { useWeatherPrices } from '@/hooks/useWeatherPrices';
import { usePortfolio } from '@/hooks/usePortfolio';
import { Card } from '@/components/ui/Card';
import { Button } from '@/components/ui/Button';
import { WeatherIcon } from '@/components/weather/WeatherIcon';
import { formatEnergy, formatPercent, formatTimeAgo } from '@/lib/utils';
import { WEATHER_CONFIGS } from '@/constants/config';

export default function PortfolioPage() {
  const router = useRouter();
  const { weatherData } = useWeatherPrices();
  const { portfolio, totalValue, profitLoss, profitLossPercent } = usePortfolio(weatherData);

  const isProfitable = profitLoss >= 0;
  const hasHoldings = portfolio.holdings.length > 0;

  return (
    <main className="min-h-screen pb-6">
      {/* í—¤ë” */}
      <header className="p-6 flex items-center justify-between">
        <button onClick={() => router.back()} className="text-2xl">â†</button>
        <h1 className="text-xl font-bold">ë‚´ ë³´ê´€í•¨</h1>
        <Link href="/settings">
          <button className="text-2xl">âš™ï¸</button>
        </Link>
      </header>

      {/* ì´ ìì‚° ìš”ì•½ */}
      <section className="px-6 mb-6">
        <Card>
          <div className="text-center mb-4">
            <p className="text-sm text-gray-600 mb-1">ë‚´ê°€ ê°€ì§„ ì „ë¶€</p>
            <p className="text-4xl font-bold mb-2">
              {formatEnergy(totalValue)}
            </p>
            <div className="h-px bg-gray-200 my-4" />
            <p className="text-sm text-gray-600 mb-1">ì–¼ë§ˆë‚˜ ë²Œì—ˆëŠ”ì§€</p>
            <motion.p
              animate={isProfitable ? {
                scale: [1, 1.05, 1],
              } : {}}
              transition={{ duration: 2, repeat: Infinity }}
              className={`text-2xl font-bold ${
                isProfitable ? 'text-green-600' : 'text-red-600'
              }`}
            >
              {isProfitable ? 'ğŸŸ¢' : 'ğŸ”´'} {profitLoss >= 0 ? '+' : ''}{formatEnergy(profitLoss)}
              <span className="text-lg ml-2">
                ({formatPercent(profitLossPercent)})
              </span>
            </motion.p>
            <p className="text-sm text-gray-600 mt-2">
              {isProfitable ? 'ì˜í–ˆì–´ìš”! ğŸ‰' : 'ì¡°ê¸ˆ ì†í•´ ë´¤ì–´ìš” ğŸ˜”'}
            </p>
          </div>
        </Card>
      </section>

      {/* ê°€ì§€ê³  ìˆëŠ” ë‚ ì”¨ */}
      <section className="px-6 mb-6">
        <h2 className="text-xl font-bold mb-4">ê°€ì§€ê³  ìˆëŠ” ë‚ ì”¨</h2>
        
        {hasHoldings ? (
          <div className="space-y-4">
            {portfolio.holdings.map((holding) => {
              const config = WEATHER_CONFIGS[holding.type];
              const weather = weatherData.find(w => w.type === holding.type);
              const isProfit = holding.profitLoss >= 0;

              return (
                <Card key={holding.type} hoverable>
                  <div className="flex items-start justify-between mb-3">
                    <div className="flex items-center gap-3">
                      <WeatherIcon type={holding.type} trend={weather?.trend || 'stable'} size="sm" />
                      <div>
                        <h3 className="font-semibold">{config.name} {holding.quantity}ê°œ</h3>
                        <p className="text-sm text-gray-600">
                          ìƒ€ì„ ë•Œ: {formatEnergy(holding.avgBuyPrice)}
                        </p>
                        <p className="text-sm text-gray-600">
                          ì§€ê¸ˆ: {formatEnergy(holding.currentPrice)}
                        </p>
                      </div>
                    </div>
                    {weather && (
                      <span className="text-2xl">
                        {weather.trend === 'rising' ? 'ğŸ”¥' : weather.trend === 'falling' ? 'â„ï¸' : 'âšª'}
                      </span>
                    )}
                  </div>

                  <div className={`mb-3 p-2 rounded-lg ${
                    isProfit ? 'bg-green-50' : 'bg-red-50'
                  }`}>
                    <p className={`text-sm font-semibold ${
                      isProfit ? 'text-green-600' : 'text-red-600'
                    }`}>
                      {isProfit ? 'ğŸŸ¢' : 'ğŸ”´'} ë²ˆ ëˆ: {formatEnergy(holding.profitLoss)} ({formatPercent(holding.profitLossPercent)})
                    </p>
                  </div>

                  <Link href={`/weather/${holding.type}`}>
                    <Button variant="secondary" className="w-full">
                      íŒ”ê¸°
                    </Button>
                  </Link>
                </Card>
              );
            })}
          </div>
        ) : (
          <Card>
            <p className="text-center text-gray-600 py-8">
              ì•„ì§ ë‚ ì”¨ë¥¼ ì‚¬ì§€ ì•Šì•˜ì–´ìš”<br />
              í™ˆì—ì„œ ë‚ ì”¨ë¥¼ ì‚¬ë³´ì„¸ìš”!
            </p>
            <Link href="/home">
              <Button variant="primary" className="w-full mt-4">
                í™ˆìœ¼ë¡œ ê°€ê¸°
              </Button>
            </Link>
          </Card>
        )}
      </section>

      {/* ì‚¬ê³  íŒ ê¸°ë¡ */}
      {portfolio.transactions.length > 0 && (
        <section className="px-6 mb-6">
          <h2 className="text-xl font-bold mb-4">ì‚¬ê³  íŒ ê¸°ë¡</h2>
          <div className="space-y-3">
            {portfolio.transactions.slice(0, 10).map((tx) => {
              const config = WEATHER_CONFIGS[tx.type];
              const isBuy = tx.action === 'buy';

              return (
                <Card key={tx.id}>
                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-3">
                      <span className="text-3xl">{config.emoji}</span>
                      <div>
                        <p className="font-semibold">
                          {config.name} {tx.quantity}ê°œ {isBuy ? 'ìƒ€ì–´ìš”' : 'íŒ”ì•˜ì–´ìš”'}
                        </p>
                        <p className="text-sm text-gray-600">
                          {formatEnergy(tx.totalAmount)}
                          {!isBuy && tx.profitLoss !== undefined && (
                            <span className={`ml-2 ${tx.profitLoss >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                              {tx.profitLoss >= 0 ? 'ğŸŸ¢' : 'ğŸ”´'} {formatEnergy(tx.profitLoss)}
                            </span>
                          )}
                        </p>
                        <p className="text-xs text-gray-500">
                          {formatTimeAgo(tx.timestamp)}
                        </p>
                      </div>
                    </div>
                  </div>
                </Card>
              );
            })}
          </div>
        </section>
      )}
    </main>
  );
}
```

**í˜ì´ì§€ êµ¬ì„±**:
1. **í—¤ë”**: ë’¤ë¡œ ê°€ê¸° + ì œëª© + ì„¤ì •
2. **ì´ ìì‚° ìš”ì•½**: ì´ ê°€ì¹˜ + ì†ìµ
3. **ê°€ì§€ê³  ìˆëŠ” ë‚ ì”¨**: ê° ë‚ ì”¨ë³„ ì¹´ë“œ
4. **ì‚¬ê³  íŒ ê¸°ë¡**: ìµœê·¼ 10ê°œ ê±°ë˜ ë‚´ì—­

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/portfolio/page.tsx` íŒŒì¼ ìƒì„±
- [ ] ì´ ìì‚° í‘œì‹œ
- [ ] ë³´ìœ  ë‚ ì”¨ ëª©ë¡ (ê°œë³„ ì†ìµ í‘œì‹œ)
- [ ] ê±°ë˜ ë‚´ì—­ (ìµœê·¼ 10ê°œ)
- [ ] ë¹„ì–´ìˆì„ ë•Œ ì•ˆë‚´ ë©”ì‹œì§€
- [ ] íŒ”ê¸° ë²„íŠ¼ â†’ ë‚ ì”¨ ìƒì„¸ë¡œ ì´ë™

---

### âœ… 6.6 ì„¤ì • í˜ì´ì§€

**ëª©í‘œ**: ë™ë„¤ ì„¤ì • ë° ì•± ì •ë³´ë¥¼ ë³´ëŠ” í™”ë©´

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 869-949ì¤„ (ë™ë„¤ ì„¤ì • í™”ë©´)

**ì‘ì—… ë‚´ìš©**:

**`src/app/settings/page.tsx` íŒŒì¼ ìƒì„±**:

```typescript
/**
 * ì„¤ì • í˜ì´ì§€
 * ì°¸ê³ : docs/wireframes.md 869-949ì¤„
 */

'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Card } from '@/components/ui/Card';
import { Input } from '@/components/ui/Input';
import { Button } from '@/components/ui/Button';
import { loadSettings, saveSettings, clearAllStorage } from '@/lib/storage';
import { getCurrentSeason, getSeasonEmoji } from '@/lib/utils';
import type { AppSettings } from '@/types';

export default function SettingsPage() {
  const router = useRouter();
  const [settings, setSettings] = useState<AppSettings>({
    notificationsEnabled: true,
    soundEnabled: true,
    theme: 'light',
  });
  const [location, setLocation] = useState('');
  const [isSaving, setIsSaving] = useState(false);

  useEffect(() => {
    const loaded = loadSettings();
    setSettings(loaded);
    setLocation(loaded.location || '');
  }, []);

  const handleSave = () => {
    setIsSaving(true);
    saveSettings({
      ...settings,
      location: location.trim() || undefined,
    });
    setTimeout(() => {
      setIsSaving(false);
      alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }, 500);
  };

  const handleReset = () => {
    if (confirm('ì •ë§ ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
      clearAllStorage();
      alert('ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì•±ì„ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.');
      window.location.href = '/';
    }
  };

  const season = getCurrentSeason();
  const seasonEmoji = getSeasonEmoji();

  return (
    <main className="min-h-screen pb-6">
      {/* í—¤ë” */}
      <header className="p-6 flex items-center justify-between">
        <button onClick={() => router.back()} className="text-2xl">â†</button>
        <h1 className="text-xl font-bold">ì„¤ì •</h1>
        <div className="w-6" />
      </header>

      {/* ë™ë„¤ ì„¤ì • */}
      <section className="px-6 mb-6">
        <h2 className="text-lg font-bold mb-3">ğŸ“ ë‚´ ë™ë„¤</h2>
        <Card>
          <div className="mb-4">
            <label className="block text-sm font-medium mb-2">
              ë™ë„¤ ì´ë¦„ (ì„ íƒ)
            </label>
            <Input
              type="text"
              value={location}
              onChange={setLocation}
              placeholder="ì˜ˆ: ì„œìš¸, ë¶€ì‚°, ì œì£¼"
            />
            <p className="text-xs text-gray-500 mt-2">
              * ì‹¤ì œ ë‚ ì”¨ì™€ëŠ” ìƒê´€ì—†ì–´ìš”. ê²Œì„ìš© ì´ë¦„ì´ì—ìš”.
            </p>
          </div>

          {location && (
            <div className="p-3 bg-blue-50 rounded-xl mb-4">
              <p className="text-sm font-semibold mb-1">
                {seasonEmoji} {location}ì˜ ê³„ì ˆ ë‚ ì”¨
              </p>
              <p className="text-sm text-gray-700">
                ì§€ê¸ˆì€ {new Date().getMonth() + 1}ì›” {season}ì´ì—ìš”
              </p>
            </div>
          )}

          <Button onClick={handleSave} disabled={isSaving} className="w-full">
            {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥í•˜ê¸°'}
          </Button>
        </Card>
      </section>

      {/* ì•± ì •ë³´ */}
      <section className="px-6 mb-6">
        <h2 className="text-lg font-bold mb-3">â„¹ï¸ ì•± ì •ë³´</h2>
        <Card>
          <div className="space-y-3">
            <div>
              <p className="text-sm font-semibold">ë²„ì „</p>
              <p className="text-sm text-gray-600">1.0.0</p>
            </div>
            <div className="h-px bg-gray-200" />
            <div>
              <p className="text-sm font-semibold">ì„¤ëª…</p>
              <p className="text-sm text-gray-600">
                ì´ˆë“±í•™ìƒì„ ìœ„í•œ ë‚ ì”¨ ê¸°ë°˜ ê²½ì œ êµìœ¡ ì•±
              </p>
            </div>
            <div className="h-px bg-gray-200" />
            <div>
              <p className="text-sm font-semibold">ì—…ë°ì´íŠ¸ ì£¼ê¸°</p>
              <p className="text-sm text-gray-600">
                3ë¶„ë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸
              </p>
            </div>
          </div>
        </Card>
      </section>

      {/* ë°ì´í„° ê´€ë¦¬ */}
      <section className="px-6 mb-6">
        <h2 className="text-lg font-bold mb-3">ğŸ—‘ï¸ ë°ì´í„° ê´€ë¦¬</h2>
        <Card>
          <p className="text-sm text-gray-600 mb-4">
            ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ìˆì–´ìš”.
          </p>
          <Button onClick={handleReset} variant="danger" className="w-full">
            ì „ì²´ ì´ˆê¸°í™” (ë¦¬ì…‹)
          </Button>
        </Card>
      </section>
    </main>
  );
}
```

**í˜ì´ì§€ êµ¬ì„±**:
1. **ë™ë„¤ ì„¤ì •**: ë™ë„¤ ì´ë¦„ ì…ë ¥ ë° ì €ì¥
2. **ì•± ì •ë³´**: ë²„ì „, ì„¤ëª…, ì—…ë°ì´íŠ¸ ì£¼ê¸°
3. **ë°ì´í„° ê´€ë¦¬**: ì „ì²´ ì´ˆê¸°í™” (ë¦¬ì…‹) ë²„íŠ¼

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `src/app/settings/page.tsx` íŒŒì¼ ìƒì„±
- [ ] ë™ë„¤ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°/ì €ì¥
- [ ] ì•± ì •ë³´ í‘œì‹œ
- [ ] ì „ì²´ ì´ˆê¸°í™” ê¸°ëŠ¥ (í™•ì¸ ëŒ€í™”ìƒì)
- [ ] ì´ˆê¸°í™” í›„ ì²« í™”ë©´ìœ¼ë¡œ ì´ë™

---

## ğŸ¯ Phase 7: í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (ì˜ˆìƒ ì‹œê°„: 1-2ì‹œê°„)

### âœ… 7.1 ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

**ëª©í‘œ**: ëª¨ë“  ì£¼ìš” ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1771-1791ì¤„ (ì²´í¬ë¦¬ìŠ¤íŠ¸)

**í…ŒìŠ¤íŠ¸ í•­ëª©**:

**1. ì˜¨ë³´ë”© í”Œë¡œìš°**
- [ ] ì›°ì»´ í™”ë©´ â†’ ë™ë„¤ ì„¤ì • â†’ ì´ˆê¸° ì—ë„ˆì§€ â†’ í™ˆ í™”ë©´
- [ ] ë™ë„¤ ì„¤ì • ê±´ë„ˆë›°ê¸° ê°€ëŠ¥
- [ ] 10,000 ì—ë„ˆì§€ë¡œ ì‹œì‘

**2. ë‚ ì”¨ ê°€ê²© ì‹œìŠ¤í…œ**
- [ ] ì²« ë¡œë“œ ì‹œ 4ê°€ì§€ ë‚ ì”¨ ê°€ê²© ìƒì„±
- [ ] 3ë¶„ í›„ ìë™ ì—…ë°ì´íŠ¸ í™•ì¸
- [ ] ê³„ì ˆ/ì‹œê°„ì— ë§ëŠ” ê°€ê²© ë²”ìœ„ (7ì›” ë‚® íƒœì–‘ì€ ë†’ìŒ ë“±)
- [ ] ìƒìŠ¹/í•˜ë½/ì•ˆì • ìƒíƒœ ì •í™•íˆ í‘œì‹œ

**3. ê±°ë˜ ê¸°ëŠ¥**
- [ ] ë‚ ì”¨ ì‚¬ê¸° ì„±ê³µ
- [ ] ì—ë„ˆì§€ ë¶€ì¡± ì‹œ ì—ëŸ¬ ë©”ì‹œì§€
- [ ] í‰ê·  ë§¤ìˆ˜ê°€ ì •í™•íˆ ê³„ì‚°
- [ ] ë‚ ì”¨ íŒ”ê¸° ì„±ê³µ
- [ ] ë³´ìœ  ìˆ˜ëŸ‰ ë¶€ì¡± ì‹œ ì—ëŸ¬ ë©”ì‹œì§€
- [ ] ê±°ë˜ ë‚´ì—­ì— ê¸°ë¡

**4. í¬íŠ¸í´ë¦¬ì˜¤**
- [ ] ì´ ìì‚° ê³„ì‚° ì •í™•
- [ ] ì†ìµ ê³„ì‚° ì •í™•
- [ ] ë³´ìœ  ë‚ ì”¨ ëª©ë¡ í‘œì‹œ
- [ ] ê°€ê²© ë³€ë™ ì‹œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**5. ë¡œì»¬ìŠ¤í† ë¦¬ì§€**
- [ ] ê±°ë˜ í›„ ìë™ ì €ì¥
- [ ] í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í•´ë„ ë°ì´í„° ìœ ì§€
- [ ] ì„¤ì • ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°
- [ ] ì „ì²´ ì´ˆê¸°í™” ì‘ë™

**6. UI/UX**
- [ ] ë²„íŠ¼ íƒ­ ì‹œ ì• ë‹ˆë©”ì´ì…˜
- [ ] ì¹´ë“œ í˜¸ë²„ íš¨ê³¼
- [ ] ëª¨ë‹¬ ë“±ì¥/í‡´ì¥ ì• ë‹ˆë©”ì´ì…˜
- [ ] 3ë¶„ ì—…ë°ì´íŠ¸ ì‹œ ìˆ«ì ë³€í™” ë¶€ë“œëŸ½ê²Œ

**í…ŒìŠ¤íŠ¸ ë°©ë²•**:
1. **ê°œë°œ ì„œë²„ ì‹¤í–‰**: `npm run dev`
2. **ë¸Œë¼ìš°ì €**: http://localhost:3000 ì ‘ì†
3. **ê° í•­ëª© ìˆ˜ë™ í…ŒìŠ¤íŠ¸**
4. **ì½˜ì†” ì—ëŸ¬ í™•ì¸**: F12 ê°œë°œì ë„êµ¬

---

### âœ… 7.2 TypeScript íƒ€ì… ì²´í¬

**ëª©í‘œ**: íƒ€ì… ì˜¤ë¥˜ ì—†ëŠ”ì§€ í™•ì¸

**ì‘ì—… ë‚´ìš©**:

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰:
```bash
npx tsc --noEmit
```

**ì˜¤ë¥˜ í•´ê²°**:
- ë¹¨ê°„ ë°‘ì¤„ ìˆëŠ” ì½”ë“œ ì°¾ê¸°
- íƒ€ì… ì •ì˜ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •
- ë‹¤ì‹œ ì²´í¬

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] `npx tsc --noEmit` ì˜¤ë¥˜ 0ê°œ
- [ ] VS Codeì—ì„œ ë¹¨ê°„ ë°‘ì¤„ ì—†ìŒ
- [ ] ëª¨ë“  import ê²½ë¡œ ì •í™•

---

### âœ… 7.3 ì„±ëŠ¥ ìµœì í™”

**ëª©í‘œ**: ì•±ì´ ë¹ ë¥´ê³  ë¶€ë“œëŸ½ê²Œ ì‘ë™í•˜ë„ë¡ ìµœì í™”

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1476-1555ì¤„ (ì„±ëŠ¥ ìµœì í™”)
- `.cursorrules` 496-537ì¤„ (ìµœì í™” ê°€ì´ë“œ)

**ìµœì í™” ì‘ì—…**:

**1. React.memo ì ìš© (í•„ìš”ì‹œ)**
```typescript
// ìì£¼ ë¦¬ë Œë”ë§ë˜ì§€ë§Œ propsê°€ ì•ˆ ë°”ë€ŒëŠ” ì»´í¬ë„ŒíŠ¸
export const WeatherCard = React.memo(function WeatherCard({ weather, onClick }: WeatherCardProps) {
  // ...
});
```

**2. useMemo/useCallback í™•ì¸**
- ì´ë¯¸ ì‘ì„±ëœ ì½”ë“œì— ìˆëŠ”ì§€ í™•ì¸
- ë¶ˆí•„ìš”í•œ ì—°ì‚° ë°©ì§€

**3. ì´ë¯¸ì§€ ìµœì í™”**
- ì´ë¯¸ì§€ ì‚¬ìš© ì‹œ Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- (í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ì´ëª¨ì§€ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ í•´ë‹¹ ì—†ìŒ)

**4. ë²ˆë“¤ í¬ê¸° í™•ì¸**
```bash
npm run build
```
- `.next` í´ë” í¬ê¸° í™•ì¸
- ë„ˆë¬´ í¬ë©´ (>2MB) ë™ì  import ê³ ë ¤

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ë¹Œë“œ ì„±ê³µ (`npm run build`)
- [ ] ë¹Œë“œ ê²½ê³  ì—†ìŒ
- [ ] ê°œë°œ ì„œë²„ì—ì„œ 60fps ë¶€ë“œëŸ¬ì›€
- [ ] 3ë¶„ ì—…ë°ì´íŠ¸ ì‹œ ë²„ë²…ì„ ì—†ìŒ

---

### âœ… 7.4 ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

**ëª©í‘œ**: ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì—ì„œ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/wireframes.md` 1113-1124ì¤„ (ë°˜ì‘í˜• ê³ ë ¤ì‚¬í•­)

**í…ŒìŠ¤íŠ¸ ë°©ë²•**:

1. **í¬ë¡¬ ê°œë°œì ë„êµ¬** (F12)
2. **Device Toolbar** í´ë¦­ (í•¸ë“œí° ì•„ì´ì½˜)
3. **ë‹¤ì–‘í•œ ê¸°ê¸° í…ŒìŠ¤íŠ¸**:
   - iPhone SE (ì‘ì€ í™”ë©´)
   - iPhone 14 Pro (ì¤‘ê°„)
   - iPhone 14 Pro Max (í° í™”ë©´)

**í™•ì¸ ì‚¬í•­**:
- [ ] ëª¨ë“  í…ìŠ¤íŠ¸ê°€ ì˜ ë³´ì„
- [ ] ë²„íŠ¼ì´ ë„ˆë¬´ ì‘ì§€ ì•ŠìŒ (ìµœì†Œ 44x44px)
- [ ] ìŠ¤í¬ë¡¤ í•„ìš” ì‹œ ì˜ ì‘ë™
- [ ] ì›í˜• ë ˆì´ì•„ì›ƒì´ í™”ë©´ì— ë§ìŒ
- [ ] ëª¨ë‹¬ì´ í™”ë©´ì„ ë„˜ì–´ê°€ì§€ ì•ŠìŒ

---

## ğŸ¯ Phase 8: ë°°í¬ (ì˜ˆìƒ ì‹œê°„: 30ë¶„-1ì‹œê°„)

### âœ… 8.1 Vercel ê³„ì • ìƒì„± ë° ì„¤ì •

**ëª©í‘œ**: Vercelì— ê°€ì…í•˜ê³  ë°°í¬ ì¤€ë¹„í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1632-1683ì¤„ (ë°°í¬ ì „ëµ)
- ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼: Vercel ë°°í¬ ê°€ì´ë“œ 2026

**ì‘ì—… ë‚´ìš©**:

1. **Vercel ê³„ì • ìƒì„±**
   - ì›¹ì‚¬ì´íŠ¸: https://vercel.com
   - "Sign Up" í´ë¦­
   - GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ (ì¶”ì²œ)
   - ë¬´ë£Œ í”Œëœ ì„ íƒ

2. **GitHub ì €ì¥ì†Œ í™•ì¸**
   - ì´ë¯¸ Phase 1.6ì—ì„œ ìƒì„±í–ˆëŠ”ì§€ í™•ì¸
   - ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±:
     - GitHubì—ì„œ New Repository
     - ì´ë¦„: `weather-energy-app`
     - Public/Private ì„ íƒ
     - Create repository

3. **ìµœì‹  ì½”ë“œ í‘¸ì‹œ**
   ```bash
   git add .
   git commit -m "Ready for deployment"
   git push origin main
   ```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Vercel ê³„ì • ìƒì„±
- [ ] GitHub ì €ì¥ì†Œ ìƒì„±
- [ ] ëª¨ë“  ì½”ë“œ í‘¸ì‹œ ì™„ë£Œ

---

### âœ… 8.2 Vercel ë°°í¬

**ëª©í‘œ**: ì•±ì„ ì¸í„°ë„·ì— ë°°í¬í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1661-1668ì¤„ (Vercel ì—°ê²°)

**ì‘ì—… ë‚´ìš©**:

1. **Vercel ëŒ€ì‹œë³´ë“œ**
   - Vercel ë¡œê·¸ì¸: https://vercel.com/dashboard
   - "New Project" í´ë¦­

2. **GitHub ì €ì¥ì†Œ ì—°ê²°**
   - "Import Git Repository" ì„ íƒ
   - `weather-energy-app` ì €ì¥ì†Œ ì„ íƒ
   - "Import" í´ë¦­

3. **í”„ë¡œì íŠ¸ ì„¤ì •**
   - Project Name: `weather-energy-app`
   - Framework Preset: **Next.js** (ìë™ ê°ì§€ë¨)
   - Root Directory: `./` (ê¸°ë³¸ê°’)
   - Build Command: `npm run build` (ê¸°ë³¸ê°’)
   - Output Directory: `.next` (ê¸°ë³¸ê°’)
   - "Deploy" í´ë¦­!

4. **ë°°í¬ ì™„ë£Œ ëŒ€ê¸°**
   - ì•½ 2-3ë¶„ ì†Œìš”
   - ë¹Œë“œ ë¡œê·¸ í™•ì¸
   - ì„±ê³µ ì‹œ URL ìƒì„±ë¨ (ì˜ˆ: https://weather-energy-app.vercel.app)

5. **ë°°í¬ëœ ì•± í…ŒìŠ¤íŠ¸**
   - ìƒì„±ëœ URL í´ë¦­
   - ëª¨ë“  ê¸°ëŠ¥ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸
   - ëª¨ë°”ì¼ì—ì„œë„ ì ‘ì† í…ŒìŠ¤íŠ¸

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Vercel í”„ë¡œì íŠ¸ ìƒì„±
- [ ] GitHub ì €ì¥ì†Œ ì—°ê²°
- [ ] ë°°í¬ ì„±ê³µ
- [ ] ë°°í¬ëœ URL ì ‘ì† í™•ì¸
- [ ] ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™

---

### âœ… 8.3 ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì • (ì„ íƒ ì‚¬í•­)

**ëª©í‘œ**: ìì‹ ë§Œì˜ ë„ë©”ì¸ ì£¼ì†Œ ì‚¬ìš©í•˜ê¸°

**ì°¸ê³  ë¬¸ì„œ**:
- `docs/architecture.md` 1666-1668ì¤„

**ì‘ì—… ë‚´ìš©** (ì„ íƒ ì‚¬í•­):

1. **ë„ë©”ì¸ êµ¬ë§¤** (ì—°ê°„ ì•½ 1-2ë§Œì›)
   - ì¶”ì²œ: Namecheap, GoDaddy, Cloudflare
   - ì˜ˆ: `weather-energy.com`

2. **Vercelì— ë„ë©”ì¸ ì¶”ê°€**
   - Vercel í”„ë¡œì íŠ¸ â†’ Settings â†’ Domains
   - êµ¬ë§¤í•œ ë„ë©”ì¸ ì…ë ¥
   - DNS ì„¤ì • ì§€ì‹œì‚¬í•­ ë”°ë¼í•˜ê¸°

3. **DNS ì„¤ì •**
   - ë„ë©”ì¸ ì œê³µì—…ì²´ ì‚¬ì´íŠ¸ì—ì„œ ì„¤ì •
   - A ë ˆì½”ë“œ ë˜ëŠ” CNAME ë ˆì½”ë“œ ì¶”ê°€
   - 10ë¶„-1ì‹œê°„ í›„ ì ìš©

**ì²´í¬ë¦¬ìŠ¤íŠ¸** (ì„ íƒ ì‚¬í•­):
- [ ] ë„ë©”ì¸ êµ¬ë§¤
- [ ] Vercelì— ë„ë©”ì¸ ì¶”ê°€
- [ ] DNS ì„¤ì • ì™„ë£Œ
- [ ] ì»¤ìŠ¤í…€ ë„ë©”ì¸ìœ¼ë¡œ ì ‘ì† í™•ì¸

---

### âœ… 8.4 ìë™ ë°°í¬ ì„¤ì •

**ëª©í‘œ**: ì½”ë“œ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ì¬ë°°í¬ë˜ë„ë¡ ì„¤ì •

**ì°¸ê³  ë¬¸ì„œ**:
- ì›¹ ë¦¬ì„œì¹˜ ê²°ê³¼: Vercel ìë™ ë°°í¬

**ì‘ì—… ë‚´ìš©**:

**ì´ë¯¸ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŒ!**

Vercelì€ GitHubì™€ ì—°ê²°í•˜ë©´ ìë™ìœ¼ë¡œ:
1. **main ë¸Œëœì¹˜ì— í‘¸ì‹œ** â†’ ìë™ ì¬ë°°í¬
2. **Pull Request ìƒì„±** â†’ ë¯¸ë¦¬ë³´ê¸° ë°°í¬

**í…ŒìŠ¤íŠ¸**:
1. ì½”ë“œ ìˆ˜ì • (ì˜ˆ: ìƒ‰ìƒ ë³€ê²½)
2. Git ì»¤ë°‹ & í‘¸ì‹œ
   ```bash
   git add .
   git commit -m "Update color"
   git push origin main
   ```
3. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ ë°°í¬ ì§„í–‰ í™•ì¸
4. 2-3ë¶„ í›„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¨

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ìë™ ë°°í¬ ì‘ë™ í™•ì¸
- [ ] ì½”ë“œ ë³€ê²½ â†’ í‘¸ì‹œ â†’ ìë™ ì¬ë°°í¬ í…ŒìŠ¤íŠ¸

---

## ğŸ‰ ì™„ë£Œ!

**ì¶•í•˜í•©ë‹ˆë‹¤! ë‚ ì”¨ ì—ë„ˆì§€ ì•± ê°œë°œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!**

---

## ğŸ“Š ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • âœ…
- [ ] 1.1 ê°œë°œ í™˜ê²½ ì¤€ë¹„
- [ ] 1.2 Next.js í”„ë¡œì íŠ¸ ìƒì„±
- [ ] 1.3 í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
- [ ] 1.4 í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„±
- [ ] 1.5 Tailwind CSS v4 ì„¤ì •
- [ ] 1.6 Git ì´ˆê¸°í™” ë° ì²« ì»¤ë°‹

### Phase 2: ë°ì´í„° êµ¬ì¡° ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ âœ…
- [ ] 2.1 TypeScript íƒ€ì… ì •ì˜
- [ ] 2.2 ìƒìˆ˜ ì •ì˜ - ë‚ ì”¨ íŒ¨í„´
- [ ] 2.3 ìƒìˆ˜ ì •ì˜ - ë‚ ì”¨ ì„¤ì • ë° ìƒ‰ìƒ
- [ ] 2.4 ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ë¡œì§
- [ ] 2.5 ê°€ê²© ê³„ì‚° ë° ê±°ë˜ ë¡œì§
- [ ] 2.6 ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬
- [ ] 2.7 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

### Phase 3: ì»¤ìŠ¤í…€ í›… ê°œë°œ âœ…
- [ ] 3.1 ë‚ ì”¨ ê°€ê²© ê´€ë¦¬ í›…
- [ ] 3.2 í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ í›…
- [ ] 3.3 ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í›…
- [ ] 3.4 ì¸í„°ë²Œ í›…

### Phase 4: ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ âœ…
- [ ] 4.1 Button ì»´í¬ë„ŒíŠ¸
- [ ] 4.2 Card ì»´í¬ë„ŒíŠ¸
- [ ] 4.3 Input ì»´í¬ë„ŒíŠ¸
- [ ] 4.4 Slider ì»´í¬ë„ŒíŠ¸
- [ ] 4.5 Modal ì»´í¬ë„ŒíŠ¸

### Phase 5: ë‚ ì”¨ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ âœ…
- [ ] 5.1 WeatherIcon ì»´í¬ë„ŒíŠ¸
- [ ] 5.2 TrendIndicator ì»´í¬ë„ŒíŠ¸
- [ ] 5.3 WeatherCard ì»´í¬ë„ŒíŠ¸
- [ ] 5.4 WeatherChart ì»´í¬ë„ŒíŠ¸

### Phase 6: í˜ì´ì§€ ê°œë°œ âœ…
- [ ] 6.1 ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ ì„¤ì •
- [ ] 6.2 ì˜¨ë³´ë”© í˜ì´ì§€
- [ ] 6.3 ë©”ì¸ í™ˆ í˜ì´ì§€
- [ ] 6.4 ë‚ ì”¨ ìƒì„¸ í˜ì´ì§€
- [ ] 6.5 ë‚´ ë³´ê´€í•¨ í˜ì´ì§€
- [ ] 6.6 ì„¤ì • í˜ì´ì§€

### Phase 7: í…ŒìŠ¤íŠ¸ ë° ìµœì í™” âœ…
- [ ] 7.1 ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] 7.2 TypeScript íƒ€ì… ì²´í¬
- [ ] 7.3 ì„±ëŠ¥ ìµœì í™”
- [ ] 7.4 ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

### Phase 8: ë°°í¬ âœ…
- [ ] 8.1 Vercel ê³„ì • ìƒì„± ë° ì„¤ì •
- [ ] 8.2 Vercel ë°°í¬
- [ ] 8.3 ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì • (ì„ íƒ)
- [ ] 8.4 ìë™ ë°°í¬ ì„¤ì •

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒ ì‚¬í•­)

ì•±ì´ ì™„ì„±ë˜ì—ˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì€ ì¶”ê°€ ê¸°ëŠ¥ì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **ê³„ì ˆ íŠ¹ë³„ ë‚ ì”¨** (í™©ì‚¬, íƒœí’, ë‹¨í’, ëˆˆ)
   - ì°¸ê³ : `docs/plan.md` 79-104ì¤„

2. **ì•Œë¦¼ ê¸°ëŠ¥**
   - ê°€ê²© ê¸‰ë“±/ê¸‰ë½ ì‹œ ì•Œë¦¼
   - Web Push API ì‚¬ìš©

3. **ì†Œë¦¬ íš¨ê³¼**
   - ê±°ë˜ ì„±ê³µ ì‹œ íš¨ê³¼ìŒ
   - ë°°ê²½ ìŒì•… (ì„ íƒ)

4. **ë¦¬ë”ë³´ë“œ**
   - ì¹œêµ¬ë“¤ê³¼ ìˆ˜ìµë¥  ë¹„êµ
   - Firebase ë˜ëŠ” Supabase ì‚¬ìš©

5. **íŠœí† ë¦¬ì–¼ ê°•í™”**
   - ì²« ê±°ë˜ ê°€ì´ë“œ
   - ë‹¨ê³„ë³„ íŒíŠ¸

---

## ğŸ“ ê°œë°œ íŒ

**ì½”ë“œ ì‘ì„± ì‹œ**:
- í•œ ë²ˆì— í•˜ë‚˜ì˜ Phaseì”© ì§„í–‰
- ê° ë‹¨ê³„ ì™„ë£Œ í›„ Git ì»¤ë°‹
- ì—ëŸ¬ ë°œìƒ ì‹œ ì½˜ì†” í™•ì¸ (F12)
- TypeScript ì˜¤ë¥˜ëŠ” ë°”ë¡œ í•´ê²°

**ë§‰í ë•Œ**:
- ì°¸ê³  ë¬¸ì„œ ë‹¤ì‹œ ì½ê¸°
- ì½˜ì†” ì—ëŸ¬ ë©”ì‹œì§€ êµ¬ê¸€ ê²€ìƒ‰
- VS Codeì—ì„œ Ctrl+Space (ìë™ì™„ì„±)
- Next.js ê³µì‹ ë¬¸ì„œ ì°¸ê³ 

**í…ŒìŠ¤íŠ¸ ì‹œ**:
- ìì£¼ ì €ì¥í•˜ê³  ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨
- ê°œë°œì ë„êµ¬ ì½˜ì†” í•­ìƒ ì—´ì–´ë‘ê¸°
- ëª¨ë°”ì¼ í™”ë©´ë„ í™•ì¸

---

## ğŸ“ ë°°ìš´ ê²ƒë“¤

ì´ í”„ë¡œì íŠ¸ë¥¼ ì™„ì„±í•˜ë©´ ë‹¤ìŒì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- âœ… **Next.js 15**: ìµœì‹  React í”„ë ˆì„ì›Œí¬
- âœ… **TypeScript**: íƒ€ì… ì•ˆì •ì„±
- âœ… **Tailwind CSS v4**: ë¹ ë¥¸ ìŠ¤íƒ€ì¼ë§
- âœ… **Motion**: ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- âœ… **Recharts**: ë°ì´í„° ì‹œê°í™”
- âœ… **ìƒíƒœ ê´€ë¦¬**: React Hooks
- âœ… **ë¡œì»¬ìŠ¤í† ë¦¬ì§€**: ë°ì´í„° ì €ì¥
- âœ… **Vercel ë°°í¬**: ì‹¤ì œ ì„œë¹„ìŠ¤ ë¡ ì¹­

---

**ì´ ì˜ˆìƒ ê°œë°œ ì‹œê°„**: 14-18ì‹œê°„ (1-2ì¼)

**ë¬¸ì„œ ì‘ì„± ì™„ë£Œì¼**: 2026ë…„ 1ì›” 22ì¼
